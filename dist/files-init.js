/*! For license information please see files-init.js.LICENSE.txt */
(()=>{var e,n,i,r={8753:(e,n,i)=>{"use strict";var r=i(5656),o=i(69183),a=i(31352),s=i(93664),l=i(17499);const d=(0,l.IY)().setApp("files").detectUser().build(),c=new r.p$({id:"delete",displayName:(t,e)=>"trashbin"===e.id?(0,a.Iu)("files","Delete permanently"):(0,a.Iu)("files","Delete"),iconSvgInline:()=>'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-trash-can" viewBox="0 0 24 24"><path d="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M9,8H11V17H9V8M13,8H15V17H13V8Z" /></svg>',enabled:t=>t.length>0&&t.map((t=>t.permissions)).every((t=>0!=(t&r.y3.DELETE))),async exec(t){try{return await s.Z.delete(t.encodedSource),(0,o.j8)("files:node:deleted",t),!0}catch(e){return d.error("Error while deleting a file",{error:e,source:t.source,node:t}),!1}},async execBatch(t,e,n){return Promise.all(t.map((t=>this.exec(t,e,n))))},order:100});var u=i(79753);const p=function(t){const e=document.createElement("a");e.download="",e.href=t,e.click()},f=function(t,e){const n=Math.random().toString(36).substring(2),i=(0,u.generateUrl)("/apps/files/ajax/download.php?dir={dir}&files={files}&downloadStartSecret={secret}",{dir:t,secret:n,files:JSON.stringify(e.map((t=>t.basename)))});p(i)},h=function(t){if(0==(t.permissions&r.y3.READ))return!1;if("shared"===t.attributes["mount-type"]){const e=JSON.parse(t.attributes["share-attributes"]).find((t=>"permissions"===t.scope&&"download"===t.key));if(void 0!==e&&!1===e.enabled)return!1}return!0},A=new r.p$({id:"download",displayName:()=>(0,a.Iu)("files","Download"),iconSvgInline:()=>'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-arrow-down" viewBox="0 0 24 24"><path d="M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z" /></svg>',enabled:t=>0!==t.length&&(!t.some((t=>t.type===r.Tv.Folder))||!t.some((t=>!t.root?.startsWith("/files"))))&&t.every(h),exec:async(t,e,n)=>t.type===r.Tv.Folder?(f(n,[t]),null):(p(t.source),null),async execBatch(t,e,n){return 1===t.length?(this.exec(t[0],e,n),[null]):(f(n,t),new Array(t.length).fill(null))},order:30});var g=i(65358),m=i(77958),v=i(64024);const w=new r.p$({id:"edit-locally",displayName:()=>(0,a.Iu)("files","Edit locally"),iconSvgInline:()=>'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-laptop" viewBox="0 0 24 24"><path d="M4,6H20V16H4M20,18A2,2 0 0,0 22,16V6C22,4.89 21.1,4 20,4H4C2.89,4 2,4.89 2,6V16A2,2 0 0,0 4,18H0V20H24V18H20Z" /></svg>',enabled:t=>1===t.length&&0!=(t[0].permissions&r.y3.UPDATE),exec:async t=>(async function(t){const e=(0,u.generateOcsUrl)("apps/files/api/v1")+"/openlocaleditor?format=json";try{const n=await s.Z.post(e,{path:t}),i=(0,m.ts)()?.uid;let r=`nc://open/${i}@`+window.location.host+(0,g.Ec)(t);r+="?token="+n.data.ocs.data.token,window.location.href=r}catch(t){(0,v.x2)((0,a.Iu)("files","Failed to redirect to client"))}}(t.path),null),order:25});var b=i(20144);const y='<svg xmlns="http://www.w3.org/2000/svg" id="mdi-star" viewBox="0 0 24 24"><path d="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z" /></svg>',C=t=>t.some((t=>1!==t.attributes.favorite)),x=async(t,e,n)=>{try{const i=(0,u.generateUrl)("/apps/files/api/v1/files")+(0,g.Ec)(t.path);return await s.Z.post(i,{tags:n?[window.OC.TAG_FAVORITE]:[]}),"favorites"!==e.id||n||"/"!==t.dirname||(0,o.j8)("files:node:deleted",t),b.default.set(t.attributes,"favorite",n?1:0),n?(0,o.j8)("files:favorites:added",t):(0,o.j8)("files:favorites:removed",t),!0}catch(e){const i=n?"adding a file to favourites":"removing a file from favourites";return d.error("Error while "+i,{error:e,source:t.source,node:t}),!1}},E=new r.p$({id:"favorite",displayName:t=>C(t)?(0,a.Iu)("files","Add to favorites"):(0,a.Iu)("files","Remove from favorites"),iconSvgInline:t=>C(t)?'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-star-outline" viewBox="0 0 24 24"><path d="M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z" /></svg>':y,enabled:t=>!t.some((t=>!t.root?.startsWith?.("/files")))&&t.every((t=>t.permissions!==r.y3.NONE)),async exec(t,e){const n=C([t]);return await x(t,e,n)},async execBatch(t,e){const n=C(t);return Promise.all(t.map((async t=>await x(t,e,n))))},order:-50});var _=i(93379),k=i.n(_),B=i(7795),N=i.n(B),I=i(90569),T=i.n(I),P=i(3565),O=i.n(P),D=i(19216),S=i.n(D),M=i(44589),j=i.n(M),L=i(51473),R={};R.styleTagTransform=j(),R.setAttributes=O(),R.insert=T().bind(null,"head"),R.domAPI=N(),R.insertStyleElement=S(),k()(L.Z,R),L.Z&&L.Z.locals&&L.Z.locals;var V=i(51120);const{Axios:$,AxiosError:F,CanceledError:z,isCancel:H,CancelToken:U,VERSION:Z,all:Y,Cancel:W,isAxiosError:q,spread:G,toFormData:X,AxiosHeaders:K,HttpStatusCode:J,formToJSON:Q,getAdapter:tt,mergeConfig:et}=V.default;var nt=i(62520),it=i(59546),rt=i(96384),ot=i(59440);let at;const st=()=>(at||(at=new ot.Z({concurrency:3})),at);var lt;!function(t){t.MOVE="Move",t.COPY="Copy",t.MOVE_OR_COPY="move-or-copy"}(lt||(lt={}));const dt=t=>0!=(t.reduce(((t,e)=>Math.min(t,e.permissions)),r.y3.ALL)&r.y3.UPDATE),ct=t=>(t=>t.every((t=>!JSON.parse(t.attributes?.["share-attributes"]??"[]").some((t=>"permissions"===t.scope&&!1===t.enabled&&"download"===t.key)))))(t);var ut=i(25108);const pt=t=>dt(t)?ct(t)?lt.MOVE_OR_COPY:lt.MOVE:lt.COPY,ft=async function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)return;if(e.type!==r.Tv.Folder)throw new Error((0,a.Iu)("files","Destination is not a folder"));if(t.dirname===e.path)throw new Error((0,a.Iu)("files","This file/folder is already in that directory"));if(e.path.startsWith(t.path))throw new Error((0,a.Iu)("files","You cannot move a file/folder onto itself or into a subfolder of itself"));const l=(0,nt.join)(e.path,t.basename),c=(0,u.generateRemoteUrl)(`dav/files/${(0,m.ts)()?.uid}${l}`);d.debug(`${n} ${t.basename} to ${c}`),b.default.set(t,"status",r.e4.LOADING);const p=st();return await p.add((async()=>{try{await(0,s.Z)({method:n===lt.COPY?"COPY":"MOVE",url:t.encodedSource,headers:{Destination:encodeURI(c),Overwrite:i?void 0:"F"}}),n===lt.MOVE&&(0,o.j8)("files:node:deleted",t)}catch(t){if(t instanceof F){if(412===t?.response?.status)throw new Error((0,a.Iu)("files","A file or folder with that name already exists in this folder"));if(423===t?.response?.status)throw new Error((0,a.Iu)("files","The files is locked"));if(404===t?.response?.status)throw new Error((0,a.Iu)("files","The file does not exist anymore"));if(t.message)throw new Error(t.message)}throw new Error}finally{b.default.set(t,"status",void 0)}}))},ht=new r.p$({id:"move-copy",displayName(t){switch(pt(t)){case lt.MOVE:return(0,a.Iu)("files","Move");case lt.COPY:return(0,a.Iu)("files","Copy");case lt.MOVE_OR_COPY:return(0,a.Iu)("files","Move or copy")}},iconSvgInline:()=>rt,enabled:t=>!!t.every((t=>t.root?.startsWith("/files/")))&&t.length>0&&(dt(t)||ct(t)),async exec(t,e,n){const i=pt([t]);try{return await async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=arguments.length>2?arguments[2]:void 0;const i=(0,v.fn)((0,a.Iu)("files","Chose destination")).allowDirectories(!0).setFilter((t=>0!=(t.permissions&r.y3.CREATE)&&n.fileid!==t.fileid)).setMimeTypeFilter([]).setMultiSelect(!1).startAt(e);return new Promise(((e,r)=>{i.setButtonFactory(((i,o)=>{const s=[],l=(0,nt.basename)(o);return n.dirname===o||n.path===o||(t!==lt.COPY&&t!==lt.MOVE_OR_COPY||s.push({label:l?(0,a.Iu)("files","Copy to {target}",{target:l}):(0,a.Iu)("files","Copy"),type:"primary",icon:it,async callback(t){try{await ft(n,t[0],lt.COPY),e(!0)}catch(t){r(t)}}}),t!==lt.MOVE&&t!==lt.MOVE_OR_COPY||s.push({label:l?(0,a.Iu)("files","Move to {target}",{target:l}):(0,a.Iu)("files","Move"),type:t===lt.MOVE?"primary":"secondary",icon:rt,async callback(t){try{await ft(n,t[0],lt.MOVE),e(!0)}catch(t){ut.warn("got error",t),r(t)}}})),s})),i.build().pick().catch((()=>{r(new Error((0,a.Iu)("files","Cancelled move or copy operation")))}))}))}(i,n,t),!0}catch(t){return!!(t instanceof Error&&t.message)&&((0,v.x2)(t.message),null)}},order:15}),At='<svg xmlns="http://www.w3.org/2000/svg" id="mdi-folder" viewBox="0 0 24 24"><path d="M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z" /></svg>',gt=new r.p$({id:"open-folder",displayName(t){const e=t[0].attributes.displayName||t[0].basename;return(0,a.Iu)("files","Open folder {displayName}",{displayName:e})},iconSvgInline:()=>At,enabled(t){if(1!==t.length)return!1;const e=t[0];return!!e.isDavRessource&&e.type===r.Tv.Folder&&0!=(e.permissions&r.y3.READ)},exec:async(t,e,n)=>!(!t||t.type!==r.Tv.Folder)&&(window.OCP.Files.Router.goToRoute(null,{view:e.id,fileid:t.fileid},{dir:(0,nt.join)(n,t.basename)}),null),default:r.DT.HIDDEN,order:-100}),mt=new r.p$({id:"open-in-files-recent",displayName:()=>(0,a.Iu)("files","Open in Files"),iconSvgInline:()=>"",enabled:(t,e)=>"recent"===e.id,async exec(t){let e=t.dirname;return t.type===r.Tv.Folder&&(e=e+"/"+t.basename),window.OCP.Files.Router.goToRoute(null,{view:"files",fileid:t.fileid},{dir:e}),null},order:-1e3,default:r.DT.HIDDEN}),vt=new r.p$({id:"rename",displayName:()=>(0,a.Iu)("files","Rename"),iconSvgInline:()=>'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-pencil" viewBox="0 0 24 24"><path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" /></svg>',enabled:t=>t.length>0&&t.map((t=>t.permissions)).every((t=>0!=(t&r.y3.UPDATE))),exec:async t=>((0,o.j8)("files:node:rename",t),null),order:10});var wt=i(48250);const bt=new r.p$({id:"details",displayName:()=>(0,a.Iu)("files","Open details"),iconSvgInline:()=>wt,enabled:t=>1===t.length&&!!t[0]&&!!window?.OCA?.Files?.Sidebar&&((t[0].root?.startsWith("/files/")&&t[0].permissions!==r.y3.NONE)??!1),async exec(t,e,n){try{return await window.OCA.Files.Sidebar.open(t.path),window.OCP.Files.Router.goToRoute(null,{view:e.id,fileid:t.fileid},{dir:n},!0),null}catch(t){return d.error("Error while opening sidebar",{error:t}),!1}},order:-50}),yt=new r.p$({id:"view-in-folder",displayName:()=>(0,a.Iu)("files","View in folder"),iconSvgInline:()=>rt,enabled(t){if(1!==t.length)return!1;const e=t[0];return!!e.isDavRessource&&e.permissions!==r.y3.NONE&&e.type===r.Tv.File},exec:async(t,e,n)=>!(!t||t.type!==r.Tv.File)&&(window.OCP.Files.Router.goToRoute(null,{view:"files",fileid:t.fileid},{dir:t.dirname}),null),order:80}),Ct=(t,e)=>{let n=t,i=1;for(;e.includes(n);){const e=(0,nt.extname)(t);n=`${(0,nt.basename)(t,e)} (${i++})${e}`}return n},xt={id:"newFolder",displayName:(0,a.Iu)("files","New folder"),enabled:t=>0!=(t.permissions&r.y3.CREATE),iconSvgInline:'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-folder-plus" viewBox="0 0 24 24"><path d="M13 19C13 19.34 13.04 19.67 13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.89 4 4 4H10L12 6H20C21.1 6 22 6.89 22 8V13.81C21.12 13.3 20.1 13 19 13C15.69 13 13 15.69 13 19M20 18V15H18V18H15V20H18V23H20V20H23V18H20Z" /></svg>',order:0,async handler(t,e){const n=e.map((t=>t.basename)),i=Ct((0,a.Iu)("files","New folder"),n),{fileid:l,source:c}=await(async(t,e)=>{const n=t.source+"/"+e,i=t.encodedSource+"/"+encodeURIComponent(e),r=await(0,s.Z)({method:"MKCOL",url:i,headers:{Overwrite:"F"}});return{fileid:parseInt(r.headers["oc-fileid"]),source:n}})(t,i),u=new r.gt({source:c,id:l,mtime:new Date,owner:(0,m.ts)()?.uid||null,permissions:r.y3.ALL,root:t?.root||"/files/"+(0,m.ts)()?.uid});(0,v.s$)((0,a.Iu)("files",'Created new folder "{name}"',{name:(0,nt.basename)(c)})),d.debug("Created new folder",{folder:u,source:c}),(0,o.j8)("files:node:created",u),(0,o.j8)("files:node:rename",u)}};var Et=i(43554),_t=i(14596);const kt=`/files/${(0,m.ts)()?.uid}`,Bt=(0,u.generateRemoteUrl)("dav"+kt),Nt=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt;const e=(0,_t.eI)(t),n=t=>{e?.setHeaders({"X-Requested-With":"XMLHttpRequest",requesttoken:t??""})};return(0,m._S)(n),n((0,m.IH)()),(0,_t.lD)().patch("fetch",((t,e)=>{const n=e.headers;return n?.method&&(e.method=n.method,delete n.method),fetch(t,e)})),e};var It=i(3443);const Tt=function(t){return t.split("").reduce((function(t,e){return(t=(t<<5)-t+e.charCodeAt(0))&t}),0)},Pt=Nt(),Ot=function(t){const e=t.props,n=(0,r.zu)(e?.permissions),i=(0,m.ts)()?.uid,o=(0,u.generateRemoteUrl)("dav"+kt+t.filename),a={id:e?.fileid<0?Tt(o):e?.fileid||0,source:o,mtime:new Date(t.lastmod),mime:t.mime,size:e?.size||0,permissions:n,owner:i,root:kt,attributes:{...t,...e,hasPreview:e?.["has-preview"],failed:e?.fileid<0}};return delete a.attributes.props,"file"===t.type?new r.$B(a):new r.gt(a)},Dt=Nt(),St=`<?xml version="1.0"?>\n<oc:filter-files ${(0,r.w4)()}>\n\t<d:prop>\n\t\t${(0,r.m0)()}\n\t</d:prop>\n\t<oc:filter-rules>\n\t\t<oc:favorite>1</oc:favorite>\n\t</oc:filter-rules>\n</oc:filter-files>`,Mt=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";const e=(0,r.h7)();let n;"/"===t&&(n=await Dt.stat(t,{details:!0,data:e}));const i=await Dt.getDirectoryContents(t,{details:!0,data:"/"===t?St:e,headers:{method:"/"===t?"REPORT":"PROPFIND"},includeSelf:!0}),o=n?.data||i.data[0],a=i.data.filter((e=>e.filename!==t));return{folder:Ot(o),contents:a.map(Ot)}},jt=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new r.G7({id:Lt(t),name:(0,nt.basename)(t),icon:At,order:e,params:{dir:t,view:"favorites"},parent:"favorites",columns:[],getContents:Mt})},Lt=function(t){return`favorite-${Tt(t)}`},Rt=Nt((0,u.generateRemoteUrl)("dav")),Vt=Math.round(Date.now()/1e3-1209600),$t=`<?xml version="1.0" encoding="UTF-8"?>\n<d:searchrequest ${(0,r.w4)()}\n\txmlns:ns="https://github.com/icewind1991/SearchDAV/ns">\n\t<d:basicsearch>\n\t\t<d:select>\n\t\t\t<d:prop>\n\t\t\t\t${(0,r.m0)()}\n\t\t\t</d:prop>\n\t\t</d:select>\n\t\t<d:from>\n\t\t\t<d:scope>\n\t\t\t\t<d:href>/files/${(0,m.ts)()?.uid}/</d:href>\n\t\t\t\t<d:depth>infinity</d:depth>\n\t\t\t</d:scope>\n\t\t</d:from>\n\t\t<d:where>\n\t\t\t<d:and>\n\t\t\t\t<d:or>\n\t\t\t\t\t<d:not>\n\t\t\t\t\t\t<d:eq>\n\t\t\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t\t\t<d:getcontenttype/>\n\t\t\t\t\t\t\t</d:prop>\n\t\t\t\t\t\t\t<d:literal>httpd/unix-directory</d:literal>\n\t\t\t\t\t\t</d:eq>\n\t\t\t\t\t</d:not>\n\t\t\t\t\t<d:eq>\n\t\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t\t<oc:size/>\n\t\t\t\t\t\t</d:prop>\n\t\t\t\t\t\t<d:literal>0</d:literal>\n\t\t\t\t\t</d:eq>\n\t\t\t\t</d:or>\n\t\t\t\t<d:gt>\n\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t<d:getlastmodified/>\n\t\t\t\t\t</d:prop>\n\t\t\t\t\t<d:literal>${Vt}</d:literal>\n\t\t\t\t</d:gt>\n\t\t\t</d:and>\n\t\t</d:where>\n\t\t<d:orderby>\n\t\t\t<d:order>\n\t\t\t\t<d:prop>\n\t\t\t\t\t<d:getlastmodified/>\n\t\t\t\t</d:prop>\n\t\t\t\t<d:descending/>\n\t\t\t</d:order>\n\t\t</d:orderby>\n\t\t<d:limit>\n\t\t\t<d:nresults>100</d:nresults>\n\t\t\t<ns:firstresult>0</ns:firstresult>\n\t\t</d:limit>\n\t</d:basicsearch>\n</d:searchrequest>`;var Ft=i(22175),zt=i(25475);const Ht={name:"TemplatePreview",inheritAttrs:!1,props:{basename:{type:String,required:!0},checked:{type:Boolean,default:!1},fileid:{type:[String,Number],required:!0},filename:{type:String,required:!0},previewUrl:{type:String,default:null},hasPreview:{type:Boolean,default:!0},mime:{type:String,required:!0},ratio:{type:Number,default:null}},data:()=>({failedPreview:!1}),computed:{nameWithoutExt(){return this.basename.indexOf(".")>-1?this.basename.split(".").slice(0,-1).join("."):this.basename},id(){return`template-picker-${this.fileid}`},realPreviewUrl(){return this.failedPreview&&this.mimeIcon?this.mimeIcon:this.previewUrl?this.previewUrl:(0,m.ts)()?(0,u.generateUrl)(`/core/preview?fileId=${this.fileid}&x=256&y=256&a=1`):(0,u.generateUrl)(`/apps/files_sharing/publicpreview/${document.getElementById("sharingToken")&&document.getElementById("sharingToken").value}?fileId=${this.fileid}&file=${function(t){const e=(t.startsWith("/")?t:`/${t}`).split("/");let n="";return e.forEach((t=>{""!==t&&(n+="/"+encodeURIComponent(t))})),n}(this.filename)}&x=256&y=256&a=1`)},mimeIcon(){return OC.MimeType.getIconUrl(this.mime)}},methods:{onCheck(){this.$emit("check",this.fileid)},onFailure(){this.failedPreview=!0}}};var Ut=i(92246),Zt={};Zt.styleTagTransform=j(),Zt.setAttributes=O(),Zt.insert=T().bind(null,"head"),Zt.domAPI=N(),Zt.insertStyleElement=S(),k()(Ut.Z,Zt),Ut.Z&&Ut.Z.locals&&Ut.Z.locals;var Yt=i(51900);const Wt=(0,Yt.Z)(Ht,(function(){var t=this,e=t._self._c;return e("li",{staticClass:"template-picker__item"},[e("input",{staticClass:"radio",attrs:{id:t.id,type:"radio",name:"template-picker"},domProps:{checked:t.checked},on:{change:t.onCheck}}),t._v(" "),e("label",{staticClass:"template-picker__label",attrs:{for:t.id}},[e("div",{staticClass:"template-picker__preview",class:t.failedPreview?"template-picker__preview--failed":""},[e("img",{staticClass:"template-picker__image",attrs:{src:t.realPreviewUrl,alt:"",draggable:"false"},on:{error:t.onFailure}})]),t._v(" "),e("span",{staticClass:"template-picker__title"},[t._v("\n\t\t\t"+t._s(t.nameWithoutExt)+"\n\t\t")])])])}),[],!1,null,"0859a92c",null).exports,qt=b.default.extend({name:"TemplatePicker",components:{NcEmptyContent:Ft.Z,NcModal:zt.Z,TemplatePreview:Wt},props:{logger:{type:Object,required:!0}},data:()=>({checked:-1,loading:!1,name:null,opened:!1,provider:null}),computed:{extension(){return(0,nt.extname)(this.name)},nameWithoutExt(){return this.extension?this.name.slice(0,0-this.extension.length):this.name},emptyTemplate(){return{basename:t("files","Blank"),fileid:-1,filename:this.t("files","Blank"),hasPreview:!1,mime:this.provider?.mimetypes[0]||this.provider?.mimetypes}},selectedTemplate(){return this.provider?this.provider.templates.find((t=>t.fileid===this.checked)):null},style(){if(!this.provider)return{};const t=(this.provider.ratio?this.provider.ratio:1.77)>1?240:160;return{"--margin":"8px","--width":t+"px","--border":"2px","--fullwidth":t+16+4+"px","--height":this.provider.ratio?Math.round(t/this.provider.ratio)+"px":null}}},methods:{async open(t,e){this.checked=this.emptyTemplate.fileid,this.name=t,this.provider=e;const n=(await async function(){return(await s.Z.get((0,u.generateOcsUrl)("apps/files/api/v1/templates"))).data.ocs.data}()).find((t=>t.app===e.app&&t.label===e.label));if(null===n)throw new Error("Failed to match provider in results");this.provider=n,0!==n.templates.length?this.opened=!0:this.onSubmit()},close(){this.checked=this.emptyTemplate.fileid,this.loading=!1,this.name=null,this.opened=!1,this.provider=null},onCheck(t){this.checked=t},async onSubmit(){this.loading=!0;const t=new URL(window.location.href).searchParams.get("dir")||"/";this.nameWithoutExt===this.name&&(this.logger.warn("Fixed invalid filename",{name:this.name,extension:this.provider?.extension}),this.name=this.name+this.provider?.extension);try{const e=await async function(t,e,n){return(await s.Z.post((0,u.generateOcsUrl)("apps/files/api/v1/templates/create"),{filePath:t,templatePath:e,templateType:n})).data.ocs.data}((0,nt.normalize)(`${t}/${this.name}`),this.selectedTemplate?.filename,this.selectedTemplate?.templateType);this.logger.debug("Created new file",e);const n=(0,m.ts)()?.uid||null,i=new r.$B({id:e.fileid,source:(0,u.generateRemoteUrl)((0,nt.join)("dav/files",n,e.filename)),root:`/files/${n}`,mime:e.mime,mtime:new Date(1e3*e.lastmod),owner:n,size:e.size,permissions:e.permissions,attributes:{...e,"has-preview":e.hasPreview}});(0,o.j8)("files:node:created",i),window.OCP.Files.Router.goToRoute(null,{view:"files",fileid:i.fileid},{dir:i.dirname,openfile:!0}),this.close()}catch(t){this.logger.error("Error while creating the new file from template",{error:t}),(0,v.x2)(this.t("files","Unable to create new file from template"))}finally{this.loading=!1}}}});var Gt=i(24142),Xt={};Xt.styleTagTransform=j(),Xt.setAttributes=O(),Xt.insert=T().bind(null,"head"),Xt.domAPI=N(),Xt.insertStyleElement=S(),k()(Gt.Z,Xt),Gt.Z&&Gt.Z.locals&&Gt.Z.locals;const Kt=(0,Yt.Z)(qt,(function(){var t=this,e=t._self._c;return t._self._setupProxy,t.opened?e("NcModal",{staticClass:"templates-picker",attrs:{"clear-view-delay":-1,size:"large"},on:{close:t.close}},[e("form",{staticClass:"templates-picker__form",style:t.style,on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit.apply(null,arguments)}}},[e("h2",[t._v(t._s(t.t("files","Pick a template for {name}",{name:t.nameWithoutExt})))]),t._v(" "),e("ul",{staticClass:"templates-picker__list"},[e("TemplatePreview",t._b({attrs:{checked:t.checked===t.emptyTemplate.fileid},on:{check:t.onCheck}},"TemplatePreview",t.emptyTemplate,!1)),t._v(" "),t._l(t.provider.templates,(function(n){return e("TemplatePreview",t._b({key:n.fileid,attrs:{checked:t.checked===n.fileid,ratio:t.provider.ratio},on:{check:t.onCheck}},"TemplatePreview",n,!1))}))],2),t._v(" "),e("div",{staticClass:"templates-picker__buttons"},[e("input",{staticClass:"primary",attrs:{type:"submit","aria-label":t.t("files","Create a new file with the selected template")},domProps:{value:t.t("files","Create")}})])]),t._v(" "),t.loading?e("NcEmptyContent",{staticClass:"templates-picker__loading",attrs:{icon:"icon-loading"}},[t._v("\n\t\t"+t._s(t.t("files","Creating file"))+"\n\t")]):t._e()],1):t._e()}),[],!1,null,"48121b39",null).exports,Jt=(0,l.IY)().setApp("files").detectUser().build();b.default.mixin({methods:{t:a.Iu,n:a.uN}});const Qt=document.createElement("div");Qt.id="template-picker",document.body.appendChild(Qt);let te=(0,Et.j)("files","templates",[]),ee=(0,Et.j)("files","templates_path",!1);Jt.debug("Templates providers",te),Jt.debug("Templates folder",{templatesPath:ee});const ne=new(b.default.extend(Kt))({name:"TemplatePicker",propsData:{logger:Jt}});ne.$mount("#template-picker"),ee||(Jt.debug("Templates folder not initialized"),(0,r.cd)({id:"template-picker",displayName:(0,a.Iu)("files","Create new templates folder"),iconSvgInline:'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-plus" viewBox="0 0 24 24"><path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',order:10,enabled:t=>t.owner===(0,m.ts)()?.uid&&0!=(t.permissions&r.y3.CREATE),handler(t,e){const n=e.map((t=>t.basename)),i=Ct((0,a.Iu)("files","Templates"),n);ie(t,i),(0,r.oE)("template-picker")}})),te.forEach(((t,e)=>{(0,r.cd)({id:`template-new-${t.app}-${e}`,displayName:t.label,iconClass:t.iconClass||"icon-file",enabled:t=>0!=(t.permissions&r.y3.CREATE),order:11,handler(e,n){const i=n.map((t=>t.basename)),r=Ct(t.label+t.extension,i);ne.open(r,t)}})}));const ie=async function(t,e){const n=(0,nt.join)(t.path,e);try{Jt.debug("Initializing the templates directory",{templatePath:n});const t=await s.Z.post((0,u.generateOcsUrl)("apps/files/api/v1/templates/path"),{templatePath:n,copySystemTemplates:!0});window.OCP.Files.Router.goToRoute(null,{view:"files",fileid:void 0},{dir:n}),te=t.data.ocs.data.templates,ee=t.data.ocs.data.template_path}catch(t){Jt.error("Unable to initialize the templates directory"),(0,v.x2)((0,a.Iu)("files","Unable to initialize the templates directory"))}};(0,r.p4)(c),(0,r.p4)(A),(0,r.p4)(w),(0,r.p4)(E),(0,r.p4)(ht),(0,r.p4)(gt),(0,r.p4)(mt),(0,r.p4)(vt),(0,r.p4)(bt),(0,r.p4)(yt),(0,r.cd)(xt),(()=>{const t=(0,Et.j)("files","favoriteFolders",[]),e=t.map(((t,e)=>jt(t,e))),n=(0,r.Ti)();n.register(new r.G7({id:"favorites",name:(0,a.Iu)("files","Favorites"),caption:(0,a.Iu)("files","List of favorites files and folders."),emptyTitle:(0,a.Iu)("files","No favorites yet"),emptyCaption:(0,a.Iu)("files","Files and folders you mark as favorite will show up here"),icon:y,order:5,columns:[],getContents:Mt})),e.forEach((t=>n.register(t))),(0,o.Ld)("files:favorites:added",(t=>{t.type===r.Tv.Folder&&(null!==t.path&&t.root?.startsWith("/files")?s(t.path):d.error("Favorite folder is not within user files root",{node:t}))})),(0,o.Ld)("files:favorites:removed",(t=>{t.type===r.Tv.Folder&&(null!==t.path&&t.root?.startsWith("/files")?l(t.path):d.error("Favorite folder is not within user files root",{node:t}))}));const i=function(){t.sort(((t,e)=>t.localeCompare(e,(0,a.G3)(),{ignorePunctuation:!0}))),t.forEach(((t,n)=>{const i=e.find((e=>e.id===Lt(t)));i&&(i.order=n)}))},s=function(r){const o=jt(r);t.find((t=>t===r))||(t.push(r),e.push(o),i(),n.register(o))},l=function(r){const o=Lt(r),a=t.findIndex((t=>t===r));-1!==a&&(t.splice(a,1),e.splice(a,1),n.remove(o),i())}})(),(0,r.Ti)().register(new r.G7({id:"files",name:(0,a.Iu)("files","All files"),caption:(0,a.Iu)("files","List of your files and folders."),icon:At,order:0,getContents:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";const e=new AbortController,n=(0,r.h7)();return new It.CancelablePromise((async(i,r,o)=>{o((()=>e.abort()));try{const r=await Pt.getDirectoryContents(t,{details:!0,data:n,includeSelf:!0,signal:e.signal}),o=r.data[0],a=r.data.slice(1);if(o.filename!==t)throw new Error("Root node does not match requested path");i({folder:Ot(o),contents:a.map((t=>{try{return Ot(t)}catch(e){return d.error(`Invalid node detected '${t.basename}'`,{error:e}),null}})).filter(Boolean)})}catch(t){r(t)}}))}})),(0,r.Ti)().register(new r.G7({id:"recent",name:(0,a.Iu)("files","Recent"),caption:(0,a.Iu)("files","List of recently modified files and folders."),emptyTitle:(0,a.Iu)("files","No recently modified files"),emptyCaption:(0,a.Iu)("files","Files and folders you recently modified will show up here."),icon:'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-history" viewBox="0 0 24 24"><path d="M13.5,8H12V13L16.28,15.54L17,14.33L13.5,12.25V8M13,3A9,9 0 0,0 4,12H1L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3" /></svg>',order:2,defaultSortKey:"mtime",getContents:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";const e=(await Rt.getDirectoryContents(t,{details:!0,data:$t,headers:{method:"SEARCH","Content-Type":"application/xml; charset=utf-8"},deep:!0})).data;return{folder:new r.gt({id:0,source:(0,u.generateRemoteUrl)("dav"+kt),root:kt,owner:(0,m.ts)()?.uid||null,permissions:r.y3.READ}),contents:e.map(Ot)}}})),"serviceWorker"in navigator?window.addEventListener("load",(async()=>{try{const t=(0,u.generateUrl)("/apps/files/preview-service-worker.js",{},{noRewrite:!0}),e=await navigator.serviceWorker.register(t,{scope:"/"});d.debug("SW registered: ",{registration:e})}catch(t){d.error("SW registration failed: ",{error:t})}})):d.debug("Service Worker is not enabled on this browser."),(0,r.qq)("nc:hidden",{nc:"http://nextcloud.org/ns"}),(0,r.qq)("nc:metadata-files-live-photo",{nc:"http://nextcloud.org/ns"})},3443:function(t,e,n){var i,r,o=n(25108);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,i=function(t){"use strict";function e(t,n){return e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},e(t,n)}function n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=i(t);if(e){var o=i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function f(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,A(t,e,"get"))}function h(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,A(t,e,"set"),n),n}function A(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CancelablePromise=void 0,t.cancelable=C,t.default=void 0,t.isCancelablePromise=x;var g="undefined"!=typeof Symbol?Symbol.toStringTag:"@@toStringTag",m=new WeakMap,v=new WeakMap,w=function(){function t(e){var n=e.executor,i=void 0===n?function(){}:n,r=e.internals,o=void 0===r?{isCanceled:!1,onCancelList:[]}:r,a=e.promise,s=void 0===a?new Promise((function(t,e){return i(t,e,(function(t){o.onCancelList.push(t)}))})):a;l(this,t),p(this,m,{writable:!0,value:void 0}),p(this,v,{writable:!0,value:void 0}),u(this,g,"CancelablePromise"),this.cancel=this.cancel.bind(this),h(this,m,o),h(this,v,s||new Promise((function(t,e){return i(t,e,(function(t){o.onCancelList.push(t)}))})))}return c(t,[{key:"then",value:function(t,e){return _(f(this,v).then(E(t,f(this,m)),E(e,f(this,m))),f(this,m))}},{key:"catch",value:function(t){return _(f(this,v).catch(E(t,f(this,m))),f(this,m))}},{key:"finally",value:function(t,e){var n=this;return e&&f(this,m).onCancelList.push(t),_(f(this,v).finally(E((function(){if(t)return e&&(f(n,m).onCancelList=f(n,m).onCancelList.filter((function(e){return e!==t}))),t()}),f(this,m))),f(this,m))}},{key:"cancel",value:function(){f(this,m).isCanceled=!0;var t=f(this,m).onCancelList;f(this,m).onCancelList=[];var e,n=r(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;if("function"==typeof i)try{i()}catch(t){o.error(t)}}}catch(t){n.e(t)}finally{n.f()}}},{key:"isCanceled",value:function(){return!0===f(this,m).isCanceled}}]),t}(),b=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&e(t,n)}(r,t);var i=n(r);function r(t){return l(this,r),i.call(this,{executor:t})}return c(r)}(w);t.CancelablePromise=b,u(b,"all",(function(t){return k(t,Promise.all(t))})),u(b,"allSettled",(function(t){return k(t,Promise.allSettled(t))})),u(b,"any",(function(t){return k(t,Promise.any(t))})),u(b,"race",(function(t){return k(t,Promise.race(t))})),u(b,"resolve",(function(t){return C(Promise.resolve(t))})),u(b,"reject",(function(t){return C(Promise.reject(t))})),u(b,"isCancelable",x);var y=b;function C(t){return _(t,{isCanceled:!1,onCancelList:[]})}function x(t){return t instanceof b||t instanceof w}function E(t,e){if(t)return function(n){if(!e.isCanceled){var i=t(n);return x(i)&&e.onCancelList.push(i.cancel),i}return n}}function _(t,e){return new w({internals:e,promise:t})}function k(t,e){var n={isCanceled:!1,onCancelList:[]};return n.onCancelList.push((function(){var e,n=r(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;x(i)&&i.cancel()}}catch(t){n.e(t)}finally{n.f()}})),new w({internals:n,promise:e})}t.default=y},void 0===(r=i.apply(e,[e]))||(t.exports=r)},51473:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var i=n(87537),r=n.n(i),o=n(23645),a=n.n(o),s=n(61667),l=n.n(s),d=new URL(n(81490),n.b),c=new URL(n(90888),n.b),u=a()(r()),p=l()(d),f=l()(c);u.push([t.id,`@charset "UTF-8";\n/**\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n.toastify.dialogs {\n  min-width: 200px;\n  background: none;\n  background-color: var(--color-main-background);\n  color: var(--color-main-text);\n  box-shadow: 0 0 6px 0 var(--color-box-shadow);\n  padding: 0 12px;\n  margin-top: 45px;\n  position: fixed;\n  z-index: 10100;\n  border-radius: var(--border-radius);\n  display: flex;\n  align-items: center;\n}\n.toastify.dialogs .toast-undo-container {\n  display: flex;\n  align-items: center;\n}\n.toastify.dialogs .toast-undo-button,\n.toastify.dialogs .toast-close {\n  position: static;\n  overflow: hidden;\n  box-sizing: border-box;\n  min-width: 44px;\n  height: 100%;\n  padding: 12px;\n  white-space: nowrap;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-color: transparent;\n  min-height: 0;\n}\n.toastify.dialogs .toast-undo-button.toast-close,\n.toastify.dialogs .toast-close.toast-close {\n  text-indent: 0;\n  opacity: .4;\n  border: none;\n  min-height: 44px;\n  margin-left: 10px;\n  font-size: 0;\n}\n.toastify.dialogs .toast-undo-button.toast-close:before,\n.toastify.dialogs .toast-close.toast-close:before {\n  background-image: url(${p});\n  content: " ";\n  filter: var(--background-invert-if-dark);\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n}\n.toastify.dialogs .toast-undo-button.toast-undo-button,\n.toastify.dialogs .toast-close.toast-undo-button {\n  height: calc(100% - 6px);\n  margin: 3px 3px 3px 12px;\n}\n.toastify.dialogs .toast-undo-button:hover,\n.toastify.dialogs .toast-undo-button:focus,\n.toastify.dialogs .toast-undo-button:active,\n.toastify.dialogs .toast-close:hover,\n.toastify.dialogs .toast-close:focus,\n.toastify.dialogs .toast-close:active {\n  cursor: pointer;\n  opacity: 1;\n}\n.toastify.dialogs.toastify-top {\n  right: 10px;\n}\n.toastify.dialogs.toast-with-click {\n  cursor: pointer;\n}\n.toastify.dialogs.toast-error {\n  border-left: 3px solid var(--color-error);\n}\n.toastify.dialogs.toast-info {\n  border-left: 3px solid var(--color-primary);\n}\n.toastify.dialogs.toast-warning {\n  border-left: 3px solid var(--color-warning);\n}\n.toastify.dialogs.toast-success,\n.toastify.dialogs.toast-undo {\n  border-left: 3px solid var(--color-success);\n}\n.theme--dark .toastify.dialogs .toast-close.toast-close:before {\n  background-image: url(${f});\n}\n._file-picker__file-icon_1vgv4_5 {\n  width: 32px;\n  height: 32px;\n  min-width: 32px;\n  min-height: 32px;\n  background-repeat: no-repeat;\n  background-size: contain;\n  display: flex;\n  justify-content: center;\n}\ntr.file-picker__row[data-v-6aded0d9] {\n  height: var(--row-height, 50px);\n}\ntr.file-picker__row td[data-v-6aded0d9] {\n  cursor: pointer;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  border-bottom: none;\n}\ntr.file-picker__row td[data-v-6aded0d9]:not(.row-checkbox) {\n  padding-inline: 14px 0;\n}\ntr.file-picker__row td.row-size[data-v-6aded0d9] {\n  text-align: end;\n  padding-inline: 0 14px;\n}\ntr.file-picker__row td.row-name[data-v-6aded0d9] {\n  padding-inline: 2px 0;\n}\n@keyframes gradient-6aded0d9 {\n  0% {\n    background-position: 0% 50%;\n  }\n  50% {\n    background-position: 100% 50%;\n  }\n  to {\n    background-position: 0% 50%;\n  }\n}\n.loading-row .row-checkbox[data-v-6aded0d9] {\n  text-align: center !important;\n}\n.loading-row span[data-v-6aded0d9] {\n  display: inline-block;\n  height: 24px;\n  background: linear-gradient(to right, var(--color-background-darker), var(--color-text-maxcontrast), var(--color-background-darker));\n  background-size: 600px 100%;\n  border-radius: var(--border-radius);\n  animation: gradient-6aded0d9 12s ease infinite;\n}\n.loading-row .row-wrapper[data-v-6aded0d9] {\n  display: inline-flex;\n  align-items: center;\n}\n.loading-row .row-checkbox span[data-v-6aded0d9] {\n  width: 24px;\n}\n.loading-row .row-name span[data-v-6aded0d9]:last-of-type {\n  margin-inline-start: 6px;\n  width: 130px;\n}\n.loading-row .row-size span[data-v-6aded0d9] {\n  width: 80px;\n}\n.loading-row .row-modified span[data-v-6aded0d9] {\n  width: 90px;\n}\ntr.file-picker__row[data-v-24eb3c55] {\n  height: var(--row-height, 50px);\n}\ntr.file-picker__row td[data-v-24eb3c55] {\n  cursor: pointer;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  border-bottom: none;\n}\ntr.file-picker__row td[data-v-24eb3c55]:not(.row-checkbox) {\n  padding-inline: 14px 0;\n}\ntr.file-picker__row td.row-size[data-v-24eb3c55] {\n  text-align: end;\n  padding-inline: 0 14px;\n}\ntr.file-picker__row td.row-name[data-v-24eb3c55] {\n  padding-inline: 2px 0;\n}\n.file-picker__row--selected[data-v-24eb3c55] {\n  background-color: var(--color-background-dark);\n}\n.file-picker__row[data-v-24eb3c55]:hover {\n  background-color: var(--color-background-hover);\n}\n.file-picker__name-container[data-v-24eb3c55] {\n  display: flex;\n  justify-content: start;\n  align-items: center;\n  height: 100%;\n}\n.file-picker__file-name[data-v-24eb3c55] {\n  padding-inline-start: 6px;\n  min-width: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.file-picker__file-extension[data-v-24eb3c55] {\n  color: var(--color-text-maxcontrast);\n  min-width: fit-content;\n}\n.file-picker__header-preview[data-v-4297db37] {\n  width: 22px;\n  height: 32px;\n  flex: 0 0 auto;\n}\n.file-picker__files[data-v-4297db37] {\n  margin: 2px;\n  margin-inline-start: 12px;\n  overflow: scroll auto;\n}\n.file-picker__files table[data-v-4297db37] {\n  width: 100%;\n  max-height: 100%;\n  table-layout: fixed;\n}\n.file-picker__files th[data-v-4297db37] {\n  position: -webkit-sticky;\n  position: sticky;\n  z-index: 1;\n  top: 0;\n  background-color: var(--color-main-background);\n  padding: 2px;\n}\n.file-picker__files th .header-wrapper[data-v-4297db37] {\n  display: flex;\n}\n.file-picker__files th.row-checkbox[data-v-4297db37] {\n  width: 44px;\n}\n.file-picker__files th.row-name[data-v-4297db37] {\n  width: 230px;\n}\n.file-picker__files th.row-size[data-v-4297db37] {\n  width: 100px;\n}\n.file-picker__files th.row-modified[data-v-4297db37] {\n  width: 120px;\n}\n.file-picker__files th[data-v-4297db37]:not(.row-size) .button-vue__wrapper {\n  justify-content: start;\n  flex-direction: row-reverse;\n}\n.file-picker__files th[data-v-4297db37]:not(.row-size) .button-vue {\n  padding-inline: 16px 4px;\n}\n.file-picker__files th.row-size[data-v-4297db37] .button-vue__wrapper {\n  justify-content: end;\n}\n.file-picker__files th[data-v-4297db37] .button-vue__wrapper {\n  color: var(--color-text-maxcontrast);\n}\n.file-picker__files th[data-v-4297db37] .button-vue__wrapper .button-vue__text {\n  font-weight: 400;\n}\n.file-picker__breadcrumbs[data-v-3bc9efa5] {\n  flex-grow: 0 !important;\n}\n.file-picker__side[data-v-fcfd0f23] {\n  display: flex;\n  flex-direction: column;\n  align-items: start;\n  gap: .5rem;\n  min-width: 200px;\n  padding-block: 2px;\n  overflow: auto;\n}\n.file-picker__side[data-v-fcfd0f23] .button-vue__wrapper {\n  justify-content: start;\n}\n.file-picker__filter-input[data-v-fcfd0f23] {\n  margin-block: 7px;\n  max-width: 260px;\n}\n@media (max-width: 736px) {\n  .file-picker__side[data-v-fcfd0f23] {\n    flex-direction: row;\n    min-width: unset;\n  }\n}\n@media (max-width: 512px) {\n  .file-picker__side[data-v-fcfd0f23] {\n    flex-direction: row;\n    min-width: unset;\n  }\n  .file-picker__filter-input[data-v-fcfd0f23] {\n    max-width: unset;\n  }\n}\n.file-picker__navigation {\n  padding-inline: 2px;\n}\n.file-picker__navigation,\n.file-picker__navigation * {\n  box-sizing: border-box;\n}\n.file-picker__navigation .v-select.select {\n  min-width: 220px;\n}\n@media (min-width: 513px) and (max-width: 736px) {\n  .file-picker__navigation {\n    gap: 11px;\n  }\n}\n@media (max-width: 512px) {\n  .file-picker__navigation {\n    flex-direction: column-reverse !important;\n  }\n}\n.file-picker__view[data-v-b63d952f] {\n  height: 50px;\n  display: flex;\n  justify-content: start;\n  align-items: center;\n}\n.file-picker__view h3[data-v-b63d952f] {\n  font-weight: 700;\n  height: fit-content;\n  margin: 0;\n}\n.file-picker__main[data-v-b63d952f] {\n  box-sizing: border-box;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n  flex: 1;\n  padding-inline: 2px;\n}\n.file-picker__main *[data-v-b63d952f] {\n  box-sizing: border-box;\n}\n[data-v-b63d952f] .file-picker {\n  height: min(80vh, 800px);\n}\n@media (max-width: 512px) {\n  [data-v-b63d952f] .file-picker {\n    height: calc(100% - 16px - var(--default-clickable-area));\n  }\n}\n[data-v-b63d952f] .file-picker__content {\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n`,"",{version:3,sources:["webpack://./node_modules/@nextcloud/dialogs/dist/style.css"],names:[],mappings:"AAAA,gBAAgB;AAChB;;;;;;;;;;;;;;;;;;;;EAoBE;AACF;EACE,gBAAgB;EAChB,gBAAgB;EAChB,8CAA8C;EAC9C,6BAA6B;EAC7B,6CAA6C;EAC7C,eAAe;EACf,gBAAgB;EAChB,eAAe;EACf,cAAc;EACd,mCAAmC;EACnC,aAAa;EACb,mBAAmB;AACrB;AACA;EACE,aAAa;EACb,mBAAmB;AACrB;AACA;;EAEE,gBAAgB;EAChB,gBAAgB;EAChB,sBAAsB;EACtB,eAAe;EACf,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,4BAA4B;EAC5B,2BAA2B;EAC3B,6BAA6B;EAC7B,aAAa;AACf;AACA;;EAEE,cAAc;EACd,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,iBAAiB;EACjB,YAAY;AACd;AACA;;EAEE,yDAAiR;EACjR,YAAY;EACZ,wCAAwC;EACxC,qBAAqB;EACrB,WAAW;EACX,YAAY;AACd;AACA;;EAEE,wBAAwB;EACxB,wBAAwB;AAC1B;AACA;;;;;;EAME,eAAe;EACf,UAAU;AACZ;AACA;EACE,WAAW;AACb;AACA;EACE,eAAe;AACjB;AACA;EACE,yCAAyC;AAC3C;AACA;EACE,2CAA2C;AAC7C;AACA;EACE,2CAA2C;AAC7C;AACA;;EAEE,2CAA2C;AAC7C;AACA;EACE,yDAAiU;AACnU;AACA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;EACf,gBAAgB;EAChB,4BAA4B;EAC5B,wBAAwB;EACxB,aAAa;EACb,uBAAuB;AACzB;AACA;EACE,+BAA+B;AACjC;AACA;EACE,eAAe;EACf,gBAAgB;EAChB,uBAAuB;EACvB,mBAAmB;AACrB;AACA;EACE,sBAAsB;AACxB;AACA;EACE,eAAe;EACf,sBAAsB;AACxB;AACA;EACE,qBAAqB;AACvB;AACA;EACE;IACE,2BAA2B;EAC7B;EACA;IACE,6BAA6B;EAC/B;EACA;IACE,2BAA2B;EAC7B;AACF;AACA;EACE,6BAA6B;AAC/B;AACA;EACE,qBAAqB;EACrB,YAAY;EACZ,oIAAoI;EACpI,2BAA2B;EAC3B,mCAAmC;EACnC,8CAA8C;AAChD;AACA;EACE,oBAAoB;EACpB,mBAAmB;AACrB;AACA;EACE,WAAW;AACb;AACA;EACE,wBAAwB;EACxB,YAAY;AACd;AACA;EACE,WAAW;AACb;AACA;EACE,WAAW;AACb;AACA;EACE,+BAA+B;AACjC;AACA;EACE,eAAe;EACf,gBAAgB;EAChB,uBAAuB;EACvB,mBAAmB;AACrB;AACA;EACE,sBAAsB;AACxB;AACA;EACE,eAAe;EACf,sBAAsB;AACxB;AACA;EACE,qBAAqB;AACvB;AACA;EACE,8CAA8C;AAChD;AACA;EACE,+CAA+C;AACjD;AACA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,YAAY;AACd;AACA;EACE,yBAAyB;EACzB,YAAY;EACZ,gBAAgB;EAChB,uBAAuB;AACzB;AACA;EACE,oCAAoC;EACpC,sBAAsB;AACxB;AACA;EACE,WAAW;EACX,YAAY;EACZ,cAAc;AAChB;AACA;EACE,WAAW;EACX,yBAAyB;EACzB,qBAAqB;AACvB;AACA;EACE,WAAW;EACX,gBAAgB;EAChB,mBAAmB;AACrB;AACA;EACE,wBAAwB;EACxB,gBAAgB;EAChB,UAAU;EACV,MAAM;EACN,8CAA8C;EAC9C,YAAY;AACd;AACA;EACE,aAAa;AACf;AACA;EACE,WAAW;AACb;AACA;EACE,YAAY;AACd;AACA;EACE,YAAY;AACd;AACA;EACE,YAAY;AACd;AACA;EACE,sBAAsB;EACtB,2BAA2B;AAC7B;AACA;EACE,wBAAwB;AAC1B;AACA;EACE,oBAAoB;AACtB;AACA;EACE,oCAAoC;AACtC;AACA;EACE,gBAAgB;AAClB;AACA;EACE,uBAAuB;AACzB;AACA;EACE,aAAa;EACb,sBAAsB;EACtB,kBAAkB;EAClB,UAAU;EACV,gBAAgB;EAChB,kBAAkB;EAClB,cAAc;AAChB;AACA;EACE,sBAAsB;AACxB;AACA;EACE,iBAAiB;EACjB,gBAAgB;AAClB;AACA;EACE;IACE,mBAAmB;IACnB,gBAAgB;EAClB;AACF;AACA;EACE;IACE,mBAAmB;IACnB,gBAAgB;EAClB;EACA;IACE,gBAAgB;EAClB;AACF;AACA;EACE,mBAAmB;AACrB;AACA;;EAEE,sBAAsB;AACxB;AACA;EACE,gBAAgB;AAClB;AACA;EACE;IACE,SAAS;EACX;AACF;AACA;EACE;IACE,yCAAyC;EAC3C;AACF;AACA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,mBAAmB;AACrB;AACA;EACE,gBAAgB;EAChB,mBAAmB;EACnB,SAAS;AACX;AACA;EACE,sBAAsB;EACtB,WAAW;EACX,aAAa;EACb,sBAAsB;EACtB,aAAa;EACb,OAAO;EACP,mBAAmB;AACrB;AACA;EACE,sBAAsB;AACxB;AACA;EACE,wBAAwB;AAC1B;AACA;EACE;IACE,yDAAyD;EAC3D;AACF;AACA;EACE,aAAa;EACb,sBAAsB;EACtB,gBAAgB;AAClB",sourcesContent:['@charset "UTF-8";\n/**\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n.toastify.dialogs {\n  min-width: 200px;\n  background: none;\n  background-color: var(--color-main-background);\n  color: var(--color-main-text);\n  box-shadow: 0 0 6px 0 var(--color-box-shadow);\n  padding: 0 12px;\n  margin-top: 45px;\n  position: fixed;\n  z-index: 10100;\n  border-radius: var(--border-radius);\n  display: flex;\n  align-items: center;\n}\n.toastify.dialogs .toast-undo-container {\n  display: flex;\n  align-items: center;\n}\n.toastify.dialogs .toast-undo-button,\n.toastify.dialogs .toast-close {\n  position: static;\n  overflow: hidden;\n  box-sizing: border-box;\n  min-width: 44px;\n  height: 100%;\n  padding: 12px;\n  white-space: nowrap;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-color: transparent;\n  min-height: 0;\n}\n.toastify.dialogs .toast-undo-button.toast-close,\n.toastify.dialogs .toast-close.toast-close {\n  text-indent: 0;\n  opacity: .4;\n  border: none;\n  min-height: 44px;\n  margin-left: 10px;\n  font-size: 0;\n}\n.toastify.dialogs .toast-undo-button.toast-close:before,\n.toastify.dialogs .toast-close.toast-close:before {\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTYiIHdpZHRoPSIxNiI+CiAgPHBhdGggZD0iTTE0IDEyLjNMMTIuMyAxNCA4IDkuNyAzLjcgMTQgMiAxMi4zIDYuMyA4IDIgMy43IDMuNyAyIDggNi4zIDEyLjMgMiAxNCAzLjcgOS43IDh6Ii8+Cjwvc3ZnPgo=);\n  content: " ";\n  filter: var(--background-invert-if-dark);\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n}\n.toastify.dialogs .toast-undo-button.toast-undo-button,\n.toastify.dialogs .toast-close.toast-undo-button {\n  height: calc(100% - 6px);\n  margin: 3px 3px 3px 12px;\n}\n.toastify.dialogs .toast-undo-button:hover,\n.toastify.dialogs .toast-undo-button:focus,\n.toastify.dialogs .toast-undo-button:active,\n.toastify.dialogs .toast-close:hover,\n.toastify.dialogs .toast-close:focus,\n.toastify.dialogs .toast-close:active {\n  cursor: pointer;\n  opacity: 1;\n}\n.toastify.dialogs.toastify-top {\n  right: 10px;\n}\n.toastify.dialogs.toast-with-click {\n  cursor: pointer;\n}\n.toastify.dialogs.toast-error {\n  border-left: 3px solid var(--color-error);\n}\n.toastify.dialogs.toast-info {\n  border-left: 3px solid var(--color-primary);\n}\n.toastify.dialogs.toast-warning {\n  border-left: 3px solid var(--color-warning);\n}\n.toastify.dialogs.toast-success,\n.toastify.dialogs.toast-undo {\n  border-left: 3px solid var(--color-success);\n}\n.theme--dark .toastify.dialogs .toast-close.toast-close:before {\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTYiIHdpZHRoPSIxNiI+CiAgPHBhdGggZD0iTTE0IDEyLjNMMTIuMyAxNCA4IDkuNyAzLjcgMTQgMiAxMi4zIDYuMyA4IDIgMy43IDMuNyAyIDggNi4zIDEyLjMgMiAxNCAzLjcgOS43IDh6IiBzdHlsZT0iZmlsbC1vcGFjaXR5OjE7ZmlsbDojZmZmZmZmIi8+Cjwvc3ZnPgo=);\n}\n._file-picker__file-icon_1vgv4_5 {\n  width: 32px;\n  height: 32px;\n  min-width: 32px;\n  min-height: 32px;\n  background-repeat: no-repeat;\n  background-size: contain;\n  display: flex;\n  justify-content: center;\n}\ntr.file-picker__row[data-v-6aded0d9] {\n  height: var(--row-height, 50px);\n}\ntr.file-picker__row td[data-v-6aded0d9] {\n  cursor: pointer;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  border-bottom: none;\n}\ntr.file-picker__row td[data-v-6aded0d9]:not(.row-checkbox) {\n  padding-inline: 14px 0;\n}\ntr.file-picker__row td.row-size[data-v-6aded0d9] {\n  text-align: end;\n  padding-inline: 0 14px;\n}\ntr.file-picker__row td.row-name[data-v-6aded0d9] {\n  padding-inline: 2px 0;\n}\n@keyframes gradient-6aded0d9 {\n  0% {\n    background-position: 0% 50%;\n  }\n  50% {\n    background-position: 100% 50%;\n  }\n  to {\n    background-position: 0% 50%;\n  }\n}\n.loading-row .row-checkbox[data-v-6aded0d9] {\n  text-align: center !important;\n}\n.loading-row span[data-v-6aded0d9] {\n  display: inline-block;\n  height: 24px;\n  background: linear-gradient(to right, var(--color-background-darker), var(--color-text-maxcontrast), var(--color-background-darker));\n  background-size: 600px 100%;\n  border-radius: var(--border-radius);\n  animation: gradient-6aded0d9 12s ease infinite;\n}\n.loading-row .row-wrapper[data-v-6aded0d9] {\n  display: inline-flex;\n  align-items: center;\n}\n.loading-row .row-checkbox span[data-v-6aded0d9] {\n  width: 24px;\n}\n.loading-row .row-name span[data-v-6aded0d9]:last-of-type {\n  margin-inline-start: 6px;\n  width: 130px;\n}\n.loading-row .row-size span[data-v-6aded0d9] {\n  width: 80px;\n}\n.loading-row .row-modified span[data-v-6aded0d9] {\n  width: 90px;\n}\ntr.file-picker__row[data-v-24eb3c55] {\n  height: var(--row-height, 50px);\n}\ntr.file-picker__row td[data-v-24eb3c55] {\n  cursor: pointer;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  border-bottom: none;\n}\ntr.file-picker__row td[data-v-24eb3c55]:not(.row-checkbox) {\n  padding-inline: 14px 0;\n}\ntr.file-picker__row td.row-size[data-v-24eb3c55] {\n  text-align: end;\n  padding-inline: 0 14px;\n}\ntr.file-picker__row td.row-name[data-v-24eb3c55] {\n  padding-inline: 2px 0;\n}\n.file-picker__row--selected[data-v-24eb3c55] {\n  background-color: var(--color-background-dark);\n}\n.file-picker__row[data-v-24eb3c55]:hover {\n  background-color: var(--color-background-hover);\n}\n.file-picker__name-container[data-v-24eb3c55] {\n  display: flex;\n  justify-content: start;\n  align-items: center;\n  height: 100%;\n}\n.file-picker__file-name[data-v-24eb3c55] {\n  padding-inline-start: 6px;\n  min-width: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.file-picker__file-extension[data-v-24eb3c55] {\n  color: var(--color-text-maxcontrast);\n  min-width: fit-content;\n}\n.file-picker__header-preview[data-v-4297db37] {\n  width: 22px;\n  height: 32px;\n  flex: 0 0 auto;\n}\n.file-picker__files[data-v-4297db37] {\n  margin: 2px;\n  margin-inline-start: 12px;\n  overflow: scroll auto;\n}\n.file-picker__files table[data-v-4297db37] {\n  width: 100%;\n  max-height: 100%;\n  table-layout: fixed;\n}\n.file-picker__files th[data-v-4297db37] {\n  position: -webkit-sticky;\n  position: sticky;\n  z-index: 1;\n  top: 0;\n  background-color: var(--color-main-background);\n  padding: 2px;\n}\n.file-picker__files th .header-wrapper[data-v-4297db37] {\n  display: flex;\n}\n.file-picker__files th.row-checkbox[data-v-4297db37] {\n  width: 44px;\n}\n.file-picker__files th.row-name[data-v-4297db37] {\n  width: 230px;\n}\n.file-picker__files th.row-size[data-v-4297db37] {\n  width: 100px;\n}\n.file-picker__files th.row-modified[data-v-4297db37] {\n  width: 120px;\n}\n.file-picker__files th[data-v-4297db37]:not(.row-size) .button-vue__wrapper {\n  justify-content: start;\n  flex-direction: row-reverse;\n}\n.file-picker__files th[data-v-4297db37]:not(.row-size) .button-vue {\n  padding-inline: 16px 4px;\n}\n.file-picker__files th.row-size[data-v-4297db37] .button-vue__wrapper {\n  justify-content: end;\n}\n.file-picker__files th[data-v-4297db37] .button-vue__wrapper {\n  color: var(--color-text-maxcontrast);\n}\n.file-picker__files th[data-v-4297db37] .button-vue__wrapper .button-vue__text {\n  font-weight: 400;\n}\n.file-picker__breadcrumbs[data-v-3bc9efa5] {\n  flex-grow: 0 !important;\n}\n.file-picker__side[data-v-fcfd0f23] {\n  display: flex;\n  flex-direction: column;\n  align-items: start;\n  gap: .5rem;\n  min-width: 200px;\n  padding-block: 2px;\n  overflow: auto;\n}\n.file-picker__side[data-v-fcfd0f23] .button-vue__wrapper {\n  justify-content: start;\n}\n.file-picker__filter-input[data-v-fcfd0f23] {\n  margin-block: 7px;\n  max-width: 260px;\n}\n@media (max-width: 736px) {\n  .file-picker__side[data-v-fcfd0f23] {\n    flex-direction: row;\n    min-width: unset;\n  }\n}\n@media (max-width: 512px) {\n  .file-picker__side[data-v-fcfd0f23] {\n    flex-direction: row;\n    min-width: unset;\n  }\n  .file-picker__filter-input[data-v-fcfd0f23] {\n    max-width: unset;\n  }\n}\n.file-picker__navigation {\n  padding-inline: 2px;\n}\n.file-picker__navigation,\n.file-picker__navigation * {\n  box-sizing: border-box;\n}\n.file-picker__navigation .v-select.select {\n  min-width: 220px;\n}\n@media (min-width: 513px) and (max-width: 736px) {\n  .file-picker__navigation {\n    gap: 11px;\n  }\n}\n@media (max-width: 512px) {\n  .file-picker__navigation {\n    flex-direction: column-reverse !important;\n  }\n}\n.file-picker__view[data-v-b63d952f] {\n  height: 50px;\n  display: flex;\n  justify-content: start;\n  align-items: center;\n}\n.file-picker__view h3[data-v-b63d952f] {\n  font-weight: 700;\n  height: fit-content;\n  margin: 0;\n}\n.file-picker__main[data-v-b63d952f] {\n  box-sizing: border-box;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n  flex: 1;\n  padding-inline: 2px;\n}\n.file-picker__main *[data-v-b63d952f] {\n  box-sizing: border-box;\n}\n[data-v-b63d952f] .file-picker {\n  height: min(80vh, 800px);\n}\n@media (max-width: 512px) {\n  [data-v-b63d952f] .file-picker {\n    height: calc(100% - 16px - var(--default-clickable-area));\n  }\n}\n[data-v-b63d952f] .file-picker__content {\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n'],sourceRoot:""}]);const h=u},92246:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(87537),r=n.n(i),o=n(23645),a=n.n(o)()(r());a.push([t.id,".template-picker__item[data-v-0859a92c]{display:flex}.template-picker__label[data-v-0859a92c]{display:flex;align-items:center;flex:1 1;flex-direction:column}.template-picker__label[data-v-0859a92c],.template-picker__label *[data-v-0859a92c]{cursor:pointer;user-select:none}.template-picker__label[data-v-0859a92c]::before{display:none !important}.template-picker__preview[data-v-0859a92c]{display:block;overflow:hidden;flex:1 1;width:var(--width);min-height:var(--height);max-height:var(--height);padding:0;border:var(--border) solid var(--color-border);border-radius:var(--border-radius-large)}input:checked+label>.template-picker__preview[data-v-0859a92c]{border-color:var(--color-primary-element)}.template-picker__preview--failed[data-v-0859a92c]{display:flex}.template-picker__image[data-v-0859a92c]{max-width:100%;background-color:var(--color-main-background);object-fit:cover}.template-picker__preview--failed .template-picker__image[data-v-0859a92c]{width:calc(var(--margin)*8);margin:auto;background-color:rgba(0,0,0,0) !important;object-fit:initial}.template-picker__title[data-v-0859a92c]{overflow:hidden;max-width:calc(var(--width) + 4px);padding:var(--margin);white-space:nowrap;text-overflow:ellipsis}","",{version:3,sources:["webpack://./apps/files/src/components/TemplatePreview.vue"],names:[],mappings:"AAGC,wCACC,YAAA,CAGD,yCACC,YAAA,CAEA,kBAAA,CACA,QAAA,CACA,qBAAA,CAEA,oFACC,cAAA,CACA,gBAAA,CAGD,iDACC,uBAAA,CAIF,2CACC,aAAA,CACA,eAAA,CAEA,QAAA,CACA,kBAAA,CACA,wBAAA,CACA,wBAAA,CACA,SAAA,CACA,8CAAA,CACA,wCAAA,CAEA,+DACC,yCAAA,CAGD,mDAEC,YAAA,CAIF,yCACC,cAAA,CACA,6CAAA,CAEA,gBAAA,CAID,2EACC,2BAAA,CAEA,WAAA,CACA,yCAAA,CAEA,kBAAA,CAGD,yCACC,eAAA,CAEA,kCAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA",sourcesContent:["\n\n.template-picker {\n\t&__item {\n\t\tdisplay: flex;\n\t}\n\n\t&__label {\n\t\tdisplay: flex;\n\t\t// Align in the middle of the grid\n\t\talign-items: center;\n\t\tflex: 1 1;\n\t\tflex-direction: column;\n\n\t\t&, * {\n\t\t\tcursor: pointer;\n\t\t\tuser-select: none;\n\t\t}\n\n\t\t&::before {\n\t\t\tdisplay: none !important;\n\t\t}\n\t}\n\n\t&__preview {\n\t\tdisplay: block;\n\t\toverflow: hidden;\n\t\t// Stretch so all entries are the same width\n\t\tflex: 1 1;\n\t\twidth: var(--width);\n\t\tmin-height: var(--height);\n\t\tmax-height: var(--height);\n\t\tpadding: 0;\n\t\tborder: var(--border) solid var(--color-border);\n\t\tborder-radius: var(--border-radius-large);\n\n\t\tinput:checked + label > & {\n\t\t\tborder-color: var(--color-primary-element);\n\t\t}\n\n\t\t&--failed {\n\t\t\t// Make sure to properly center fallback icon\n\t\t\tdisplay: flex;\n\t\t}\n\t}\n\n\t&__image {\n\t\tmax-width: 100%;\n\t\tbackground-color: var(--color-main-background);\n\n\t\tobject-fit: cover;\n\t}\n\n\t// Failed preview, fallback to mime icon\n\t&__preview--failed &__image {\n\t\twidth: calc(var(--margin) * 8);\n\t\t// Center mime icon\n\t\tmargin: auto;\n\t\tbackground-color: transparent !important;\n\n\t\tobject-fit: initial;\n\t}\n\n\t&__title {\n\t\toverflow: hidden;\n\t\t// also count preview border\n\t\tmax-width: calc(var(--width) + 2*2px);\n\t\tpadding: var(--margin);\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n"],sourceRoot:""}]);const s=a},24142:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(87537),r=n.n(i),o=n(23645),a=n.n(o)()(r());a.push([t.id,".templates-picker__form[data-v-48121b39]{padding:calc(var(--margin)*2);padding-bottom:0}.templates-picker__form h2[data-v-48121b39]{text-align:center;font-weight:bold;margin:var(--margin) 0 calc(var(--margin)*2)}.templates-picker__list[data-v-48121b39]{display:grid;grid-gap:calc(var(--margin)*2);grid-auto-columns:1fr;max-width:calc(var(--fullwidth)*6);grid-template-columns:repeat(auto-fit, var(--fullwidth));grid-auto-rows:1fr;justify-content:center}.templates-picker__buttons[data-v-48121b39]{display:flex;justify-content:end;padding:calc(var(--margin)*2) var(--margin);position:sticky;bottom:0;background-image:linear-gradient(0, var(--gradient-main-background))}.templates-picker__buttons button[data-v-48121b39],.templates-picker__buttons input[type=submit][data-v-48121b39]{height:44px}.templates-picker[data-v-48121b39] .modal-container{position:relative}.templates-picker__loading[data-v-48121b39]{position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;margin:0;background-color:var(--color-main-background-translucent)}","",{version:3,sources:["webpack://./apps/files/src/views/TemplatePicker.vue"],names:[],mappings:"AAEC,yCACC,6BAAA,CAEA,gBAAA,CAEA,4CACC,iBAAA,CACA,gBAAA,CACA,4CAAA,CAIF,yCACC,YAAA,CACA,8BAAA,CACA,qBAAA,CAEA,kCAAA,CACA,wDAAA,CAEA,kBAAA,CAEA,sBAAA,CAGD,4CACC,YAAA,CACA,mBAAA,CACA,2CAAA,CACA,eAAA,CACA,QAAA,CACA,oEAAA,CAEA,kHACC,WAAA,CAKF,oDACC,iBAAA,CAGD,4CACC,iBAAA,CACA,KAAA,CACA,MAAA,CACA,sBAAA,CACA,UAAA,CACA,WAAA,CACA,QAAA,CACA,yDAAA",sourcesContent:["\n.templates-picker {\n\t&__form {\n\t\tpadding: calc(var(--margin) * 2);\n\t\t// Will be handled by the buttons\n\t\tpadding-bottom: 0;\n\n\t\th2 {\n\t\t\ttext-align: center;\n\t\t\tfont-weight: bold;\n\t\t\tmargin: var(--margin) 0 calc(var(--margin) * 2);\n\t\t}\n\t}\n\n\t&__list {\n\t\tdisplay: grid;\n\t\tgrid-gap: calc(var(--margin) * 2);\n\t\tgrid-auto-columns: 1fr;\n\t\t// We want maximum 5 columns. Putting 6 as we don't count the grid gap. So it will always be lower than 6\n\t\tmax-width: calc(var(--fullwidth) * 6);\n\t\tgrid-template-columns: repeat(auto-fit, var(--fullwidth));\n\t\t// Make sure all rows are the same height\n\t\tgrid-auto-rows: 1fr;\n\t\t// Center the columns set\n\t\tjustify-content: center;\n\t}\n\n\t&__buttons {\n\t\tdisplay: flex;\n\t\tjustify-content: end;\n\t\tpadding: calc(var(--margin) * 2) var(--margin);\n\t\tposition: sticky;\n\t\tbottom: 0;\n\t\tbackground-image: linear-gradient(0, var(--gradient-main-background));\n\n\t\tbutton, input[type='submit'] {\n\t\t\theight: 44px;\n\t\t}\n\t}\n\n\t// Make sure we're relative for the loading emptycontent on top\n\t::v-deep .modal-container {\n\t\tposition: relative;\n\t}\n\n\t&__loading {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tjustify-content: center;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tmargin: 0;\n\t\tbackground-color: var(--color-main-background-translucent);\n\t}\n}\n\n"],sourceRoot:""}]);const s=a},81490:t=>{"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTYiIHdpZHRoPSIxNiI+CiAgPHBhdGggZD0iTTE0IDEyLjNMMTIuMyAxNCA4IDkuNyAzLjcgMTQgMiAxMi4zIDYuMyA4IDIgMy43IDMuNyAyIDggNi4zIDEyLjMgMiAxNCAzLjcgOS43IDh6Ii8+Cjwvc3ZnPgo="},90888:t=>{"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTYiIHdpZHRoPSIxNiI+CiAgPHBhdGggZD0iTTE0IDEyLjNMMTIuMyAxNCA4IDkuNyAzLjcgMTQgMiAxMi4zIDYuMyA4IDIgMy43IDMuNyAyIDggNi4zIDEyLjMgMiAxNCAzLjcgOS43IDh6IiBzdHlsZT0iZmlsbC1vcGFjaXR5OjE7ZmlsbDojZmZmZmZmIi8+Cjwvc3ZnPgo="},5656:(t,e,n)=>{"use strict";n.d(e,{$B:()=>S,DT:()=>m,G7:()=>se,RL:()=>$,Ti:()=>z,Tv:()=>I,_o:()=>j,cd:()=>de,e4:()=>O,gt:()=>M,h7:()=>k,m0:()=>E,oE:()=>ce,p$:()=>v,p4:()=>w,pC:()=>V,qq:()=>x,rp:()=>R,sS:()=>g,tB:()=>B,w4:()=>_,y3:()=>b,zu:()=>N});var i=n(77958),r=n(17499),o=n(31352),a=n(62520),s=n(65358),l=n(79753),d=n(14596);const c=null===(u=(0,i.ts)())?(0,r.IY)().setApp("files").build():(0,r.IY)().setApp("files").setUid(u.uid).build();var u;class p{_entries=[];registerEntry(t){this.validateEntry(t),this._entries.push(t)}unregisterEntry(t){const e="string"==typeof t?this.getEntryIndex(t):this.getEntryIndex(t.id);-1!==e?this._entries.splice(e,1):c.warn("Entry not found, nothing removed",{entry:t,entries:this.getEntries()})}getEntries(t){return t?this._entries.filter((e=>"function"!=typeof e.enabled||e.enabled(t))):this._entries}getEntryIndex(t){return this._entries.findIndex((e=>e.id===t))}validateEntry(t){if(!t.id||!t.displayName||!t.iconSvgInline&&!t.iconClass||!t.handler)throw new Error("Invalid entry");if("string"!=typeof t.id||"string"!=typeof t.displayName)throw new Error("Invalid id or displayName property");if(t.iconClass&&"string"!=typeof t.iconClass||t.iconSvgInline&&"string"!=typeof t.iconSvgInline)throw new Error("Invalid icon provided");if(void 0!==t.enabled&&"function"!=typeof t.enabled)throw new Error("Invalid enabled property");if("function"!=typeof t.handler)throw new Error("Invalid handler property");if("order"in t&&"number"!=typeof t.order)throw new Error("Invalid order property");if(-1!==this.getEntryIndex(t.id))throw new Error("Duplicate entry")}}const f=function(){return typeof window._nc_newfilemenu>"u"&&(window._nc_newfilemenu=new p,c.debug("NewFileMenu initialized")),window._nc_newfilemenu},h=["B","KB","MB","GB","TB","PB"],A=["B","KiB","MiB","GiB","TiB","PiB"];function g(t,e=!1,n=!1,i=!1){n=n&&!i,"string"==typeof t&&(t=Number(t));let r=t>0?Math.floor(Math.log(t)/Math.log(i?1e3:1024)):0;r=Math.min((n?A.length:h.length)-1,r);const a=n?A[r]:h[r];let s=(t/Math.pow(i?1e3:1024,r)).toFixed(1);return!0===e&&0===r?("0.0"!==s?"< 1 ":"0 ")+(n?A[1]:h[1]):(s=r<2?parseFloat(s).toFixed(0):parseFloat(s).toLocaleString((0,o.aj)()),s+" "+a)}var m=(t=>(t.DEFAULT="default",t.HIDDEN="hidden",t))(m||{});class v{_action;constructor(t){this.validateAction(t),this._action=t}get id(){return this._action.id}get displayName(){return this._action.displayName}get title(){return this._action.title}get iconSvgInline(){return this._action.iconSvgInline}get enabled(){return this._action.enabled}get exec(){return this._action.exec}get execBatch(){return this._action.execBatch}get order(){return this._action.order}get parent(){return this._action.parent}get default(){return this._action.default}get inline(){return this._action.inline}get renderInline(){return this._action.renderInline}validateAction(t){if(!t.id||"string"!=typeof t.id)throw new Error("Invalid id");if(!t.displayName||"function"!=typeof t.displayName)throw new Error("Invalid displayName function");if("title"in t&&"function"!=typeof t.title)throw new Error("Invalid title function");if(!t.iconSvgInline||"function"!=typeof t.iconSvgInline)throw new Error("Invalid iconSvgInline function");if(!t.exec||"function"!=typeof t.exec)throw new Error("Invalid exec function");if("enabled"in t&&"function"!=typeof t.enabled)throw new Error("Invalid enabled function");if("execBatch"in t&&"function"!=typeof t.execBatch)throw new Error("Invalid execBatch function");if("order"in t&&"number"!=typeof t.order)throw new Error("Invalid order");if("parent"in t&&"string"!=typeof t.parent)throw new Error("Invalid parent");if(t.default&&!Object.values(m).includes(t.default))throw new Error("Invalid default");if("inline"in t&&"function"!=typeof t.inline)throw new Error("Invalid inline function");if("renderInline"in t&&"function"!=typeof t.renderInline)throw new Error("Invalid renderInline function")}}const w=function(t){typeof window._nc_fileactions>"u"&&(window._nc_fileactions=[],c.debug("FileActions initialized")),window._nc_fileactions.find((e=>e.id===t.id))?c.error(`FileAction ${t.id} already registered`,{action:t}):window._nc_fileactions.push(t)};var b=(t=>(t[t.NONE=0]="NONE",t[t.CREATE=4]="CREATE",t[t.READ=1]="READ",t[t.UPDATE=2]="UPDATE",t[t.DELETE=8]="DELETE",t[t.SHARE=16]="SHARE",t[t.ALL=31]="ALL",t))(b||{});const y=["d:getcontentlength","d:getcontenttype","d:getetag","d:getlastmodified","d:quota-available-bytes","d:resourcetype","nc:has-preview","nc:is-encrypted","nc:mount-type","nc:share-attributes","oc:comments-unread","oc:favorite","oc:fileid","oc:owner-display-name","oc:owner-id","oc:permissions","oc:share-types","oc:size","ocs:share-permissions"],C={d:"DAV:",nc:"http://nextcloud.org/ns",oc:"http://owncloud.org/ns",ocs:"http://open-collaboration-services.org/ns"},x=function(t,e={nc:"http://nextcloud.org/ns"}){typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...y],window._nc_dav_namespaces={...C});const n={...window._nc_dav_namespaces,...e};return window._nc_dav_properties.find((e=>e===t))?(c.error(`${t} already registered`,{prop:t}),!1):t.startsWith("<")||2!==t.split(":").length?(c.error(`${t} is not valid. See example: 'oc:fileid'`,{prop:t}),!1):n[t.split(":")[0]]?(window._nc_dav_properties.push(t),window._nc_dav_namespaces=n,!0):(c.error(`${t} namespace unknown`,{prop:t,namespaces:n}),!1)},E=function(){return typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...y]),window._nc_dav_properties.map((t=>`<${t} />`)).join(" ")},_=function(){return typeof window._nc_dav_namespaces>"u"&&(window._nc_dav_namespaces={...C}),Object.keys(window._nc_dav_namespaces).map((t=>`xmlns:${t}="${window._nc_dav_namespaces?.[t]}"`)).join(" ")},k=function(){return`<?xml version="1.0"?>\n\t\t<d:propfind ${_()}>\n\t\t\t<d:prop>\n\t\t\t\t${E()}\n\t\t\t</d:prop>\n\t\t</d:propfind>`},B=function(t){return`<?xml version="1.0" encoding="UTF-8"?>\n<d:searchrequest ${_()}\n\txmlns:ns="https://github.com/icewind1991/SearchDAV/ns">\n\t<d:basicsearch>\n\t\t<d:select>\n\t\t\t<d:prop>\n\t\t\t\t${E()}\n\t\t\t</d:prop>\n\t\t</d:select>\n\t\t<d:from>\n\t\t\t<d:scope>\n\t\t\t\t<d:href>/files/${(0,i.ts)()?.uid}/</d:href>\n\t\t\t\t<d:depth>infinity</d:depth>\n\t\t\t</d:scope>\n\t\t</d:from>\n\t\t<d:where>\n\t\t\t<d:and>\n\t\t\t\t<d:or>\n\t\t\t\t\t<d:not>\n\t\t\t\t\t\t<d:eq>\n\t\t\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t\t\t<d:getcontenttype/>\n\t\t\t\t\t\t\t</d:prop>\n\t\t\t\t\t\t\t<d:literal>httpd/unix-directory</d:literal>\n\t\t\t\t\t\t</d:eq>\n\t\t\t\t\t</d:not>\n\t\t\t\t\t<d:eq>\n\t\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t\t<oc:size/>\n\t\t\t\t\t\t</d:prop>\n\t\t\t\t\t\t<d:literal>0</d:literal>\n\t\t\t\t\t</d:eq>\n\t\t\t\t</d:or>\n\t\t\t\t<d:gt>\n\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t<d:getlastmodified/>\n\t\t\t\t\t</d:prop>\n\t\t\t\t\t<d:literal>${t}</d:literal>\n\t\t\t\t</d:gt>\n\t\t\t</d:and>\n\t\t</d:where>\n\t\t<d:orderby>\n\t\t\t<d:order>\n\t\t\t\t<d:prop>\n\t\t\t\t\t<d:getlastmodified/>\n\t\t\t\t</d:prop>\n\t\t\t\t<d:descending/>\n\t\t\t</d:order>\n\t\t</d:orderby>\n\t\t<d:limit>\n\t\t\t<d:nresults>100</d:nresults>\n\t\t\t<ns:firstresult>0</ns:firstresult>\n\t\t</d:limit>\n\t</d:basicsearch>\n</d:searchrequest>`},N=function(t=""){let e=b.NONE;return t&&((t.includes("C")||t.includes("K"))&&(e|=b.CREATE),t.includes("G")&&(e|=b.READ),(t.includes("W")||t.includes("N")||t.includes("V"))&&(e|=b.UPDATE),t.includes("D")&&(e|=b.DELETE),t.includes("R")&&(e|=b.SHARE)),e};var I=(t=>(t.Folder="folder",t.File="file",t))(I||{});const T=function(t,e){return null!==t.match(e)},P=(t,e)=>{if(t.id&&"number"!=typeof t.id)throw new Error("Invalid id type of value");if(!t.source)throw new Error("Missing mandatory source");try{new URL(t.source)}catch{throw new Error("Invalid source format, source must be a valid URL")}if(!t.source.startsWith("http"))throw new Error("Invalid source format, only http(s) is supported");if(t.mtime&&!(t.mtime instanceof Date))throw new Error("Invalid mtime type");if(t.crtime&&!(t.crtime instanceof Date))throw new Error("Invalid crtime type");if(!t.mime||"string"!=typeof t.mime||!t.mime.match(/^[-\w.]+\/[-+\w.]+$/gi))throw new Error("Missing or invalid mandatory mime");if("size"in t&&"number"!=typeof t.size&&void 0!==t.size)throw new Error("Invalid size type");if("permissions"in t&&void 0!==t.permissions&&!("number"==typeof t.permissions&&t.permissions>=b.NONE&&t.permissions<=b.ALL))throw new Error("Invalid permissions");if(t.owner&&null!==t.owner&&"string"!=typeof t.owner)throw new Error("Invalid owner type");if(t.attributes&&"object"!=typeof t.attributes)throw new Error("Invalid attributes type");if(t.root&&"string"!=typeof t.root)throw new Error("Invalid root type");if(t.root&&!t.root.startsWith("/"))throw new Error("Root must start with a leading slash");if(t.root&&!t.source.includes(t.root))throw new Error("Root must be part of the source");if(t.root&&T(t.source,e)){const n=t.source.match(e)[0];if(!t.source.includes((0,a.join)(n,t.root)))throw new Error("The root must be relative to the service. e.g /files/emma")}if(t.status&&!Object.values(O).includes(t.status))throw new Error("Status must be a valid NodeStatus")};var O=(t=>(t.NEW="new",t.FAILED="failed",t.LOADING="loading",t.LOCKED="locked",t))(O||{});class D{_data;_attributes;_knownDavService=/(remote|public)\.php\/(web)?dav/i;constructor(t,e){P(t,e||this._knownDavService),this._data=t;const n={set:(t,e,n)=>(this.updateMtime(),Reflect.set(t,e,n)),deleteProperty:(t,e)=>(this.updateMtime(),Reflect.deleteProperty(t,e))};this._attributes=new Proxy(t.attributes||{},n),delete this._data.attributes,e&&(this._knownDavService=e)}get source(){return this._data.source.replace(/\/$/i,"")}get encodedSource(){const{origin:t}=new URL(this.source);return t+(0,s.Ec)(this.source.slice(t.length))}get basename(){return(0,a.basename)(this.source)}get extension(){return(0,a.extname)(this.source)}get dirname(){if(this.root){const t=this.source.indexOf(this.root);return(0,a.dirname)(this.source.slice(t+this.root.length)||"/")}const t=new URL(this.source);return(0,a.dirname)(t.pathname)}get mime(){return this._data.mime}get mtime(){return this._data.mtime}get crtime(){return this._data.crtime}get size(){return this._data.size}get attributes(){return this._attributes}get permissions(){return null!==this.owner||this.isDavRessource?void 0!==this._data.permissions?this._data.permissions:b.NONE:b.READ}get owner(){return this.isDavRessource?this._data.owner:null}get isDavRessource(){return T(this.source,this._knownDavService)}get root(){return this._data.root?this._data.root.replace(/^(.+)\/$/,"$1"):this.isDavRessource&&(0,a.dirname)(this.source).split(this._knownDavService).pop()||null}get path(){if(this.root){const t=this.source.indexOf(this.root);return this.source.slice(t+this.root.length)||"/"}return(this.dirname+"/"+this.basename).replace(/\/\//g,"/")}get fileid(){return this._data?.id||this.attributes?.fileid}get status(){return this._data?.status}set status(t){this._data.status=t}move(t){P({...this._data,source:t},this._knownDavService),this._data.source=t,this.updateMtime()}rename(t){if(t.includes("/"))throw new Error("Invalid basename");this.move((0,a.dirname)(this.source)+"/"+t)}updateMtime(){this._data.mtime&&(this._data.mtime=new Date)}}class S extends D{get type(){return I.File}}class M extends D{constructor(t){super({...t,mime:"httpd/unix-directory"})}get type(){return I.Folder}get extension(){return null}get mime(){return"httpd/unix-directory"}}const j=`/files/${(0,i.ts)()?.uid}`,L=(0,l.generateRemoteUrl)("dav"),R=function(t=L){const e=(0,d.eI)(t);function n(t){e.setHeaders({"X-Requested-With":"XMLHttpRequest",requesttoken:t??""})}return(0,i._S)(n),n((0,i.IH)()),(0,d.lD)().patch("fetch",((t,e)=>{const n=e.headers;return n?.method&&(e.method=n.method,delete n.method),fetch(t,e)})),e},V=async(t,e="/",n=j)=>(await t.getDirectoryContents(`${n}${e}`,{details:!0,data:`<?xml version="1.0"?>\n\t\t<oc:filter-files ${_()}>\n\t\t\t<d:prop>\n\t\t\t\t${E()}\n\t\t\t</d:prop>\n\t\t\t<oc:filter-rules>\n\t\t\t\t<oc:favorite>1</oc:favorite>\n\t\t\t</oc:filter-rules>\n\t\t</oc:filter-files>`,headers:{method:"REPORT"},includeSelf:!0})).data.filter((t=>t.filename!==e)).map((t=>$(t,n))),$=function(t,e=j,n=L){const r=t.props,o=N(r?.permissions),a=(0,i.ts)()?.uid,s={id:r?.fileid||0,source:`${n}${t.filename}`,mtime:new Date(Date.parse(t.lastmod)),mime:t.mime,size:r?.size||Number.parseInt(r.getcontentlength||"0"),permissions:o,owner:a,root:e,attributes:{...t,...r,hasPreview:r?.["has-preview"]}};return delete s.attributes?.props,"file"===t.type?new S(s):new M(s)};class F{_views=[];_currentView=null;register(t){if(this._views.find((e=>e.id===t.id)))throw new Error(`View id ${t.id} is already registered`);this._views.push(t)}remove(t){const e=this._views.findIndex((e=>e.id===t));-1!==e&&this._views.splice(e,1)}get views(){return this._views}setActive(t){this._currentView=t}get active(){return this._currentView}}const z=function(){return typeof window._nc_navigation>"u"&&(window._nc_navigation=new F,c.debug("Navigation service initialized")),window._nc_navigation};class H{_column;constructor(t){U(t),this._column=t}get id(){return this._column.id}get title(){return this._column.title}get render(){return this._column.render}get sort(){return this._column.sort}get summary(){return this._column.summary}}const U=function(t){if(!t.id||"string"!=typeof t.id)throw new Error("A column id is required");if(!t.title||"string"!=typeof t.title)throw new Error("A column title is required");if(!t.render||"function"!=typeof t.render)throw new Error("A render function is required");if(t.sort&&"function"!=typeof t.sort)throw new Error("Column sortFunction must be a function");if(t.summary&&"function"!=typeof t.summary)throw new Error("Column summary must be a function");return!0};var Z={},Y={};!function(t){const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n="["+e+"]["+e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+n+"$");t.isExist=function(t){return typeof t<"u"},t.isEmptyObject=function(t){return 0===Object.keys(t).length},t.merge=function(t,e,n){if(e){const i=Object.keys(e),r=i.length;for(let o=0;o<r;o++)t[i[o]]="strict"===n?[e[i[o]]]:e[i[o]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.isName=function(t){const e=i.exec(t);return!(null===e||typeof e>"u")},t.getAllMatches=function(t,e){const n=[];let i=e.exec(t);for(;i;){const r=[];r.startIndex=e.lastIndex-i[0].length;const o=i.length;for(let t=0;t<o;t++)r.push(i[t]);n.push(r),i=e.exec(t)}return n},t.nameRegexp=n}(Y);const W=Y,q={allowBooleanAttributes:!1,unpairedTags:[]};function G(t){return" "===t||"\t"===t||"\n"===t||"\r"===t}function X(t,e){const n=e;for(;e<t.length;e++)if("?"==t[e]||" "==t[e]){const i=t.substr(n,e-n);if(e>5&&"xml"===i)return rt("InvalidXml","XML declaration allowed only at the start of the document.",st(t,e));if("?"==t[e]&&">"==t[e+1]){e++;break}continue}return e}function K(t,e){if(t.length>e+5&&"-"===t[e+1]&&"-"===t[e+2]){for(e+=3;e<t.length;e++)if("-"===t[e]&&"-"===t[e+1]&&">"===t[e+2]){e+=2;break}}else if(t.length>e+8&&"D"===t[e+1]&&"O"===t[e+2]&&"C"===t[e+3]&&"T"===t[e+4]&&"Y"===t[e+5]&&"P"===t[e+6]&&"E"===t[e+7]){let n=1;for(e+=8;e<t.length;e++)if("<"===t[e])n++;else if(">"===t[e]&&(n--,0===n))break}else if(t.length>e+9&&"["===t[e+1]&&"C"===t[e+2]&&"D"===t[e+3]&&"A"===t[e+4]&&"T"===t[e+5]&&"A"===t[e+6]&&"["===t[e+7])for(e+=8;e<t.length;e++)if("]"===t[e]&&"]"===t[e+1]&&">"===t[e+2]){e+=2;break}return e}Z.validate=function(t,e){e=Object.assign({},q,e);const n=[];let i=!1,r=!1;"\ufeff"===t[0]&&(t=t.substr(1));for(let o=0;o<t.length;o++)if("<"===t[o]&&"?"===t[o+1]){if(o+=2,o=X(t,o),o.err)return o}else{if("<"!==t[o]){if(G(t[o]))continue;return rt("InvalidChar","char '"+t[o]+"' is not expected.",st(t,o))}{let a=o;if(o++,"!"===t[o]){o=K(t,o);continue}{let s=!1;"/"===t[o]&&(s=!0,o++);let l="";for(;o<t.length&&">"!==t[o]&&" "!==t[o]&&"\t"!==t[o]&&"\n"!==t[o]&&"\r"!==t[o];o++)l+=t[o];if(l=l.trim(),"/"===l[l.length-1]&&(l=l.substring(0,l.length-1),o--),!at(l)){let e;return e=0===l.trim().length?"Invalid space after '<'.":"Tag '"+l+"' is an invalid name.",rt("InvalidTag",e,st(t,o))}const d=tt(t,o);if(!1===d)return rt("InvalidAttr","Attributes for '"+l+"' have open quote.",st(t,o));let c=d.value;if(o=d.index,"/"===c[c.length-1]){const n=o-c.length;c=c.substring(0,c.length-1);const r=nt(c,e);if(!0!==r)return rt(r.err.code,r.err.msg,st(t,n+r.err.line));i=!0}else if(s){if(!d.tagClosed)return rt("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",st(t,o));if(c.trim().length>0)return rt("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",st(t,a));{const e=n.pop();if(l!==e.tagName){let n=st(t,e.tagStartPos);return rt("InvalidTag","Expected closing tag '"+e.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+l+"'.",st(t,a))}0==n.length&&(r=!0)}}else{const s=nt(c,e);if(!0!==s)return rt(s.err.code,s.err.msg,st(t,o-c.length+s.err.line));if(!0===r)return rt("InvalidXml","Multiple possible root nodes found.",st(t,o));-1!==e.unpairedTags.indexOf(l)||n.push({tagName:l,tagStartPos:a}),i=!0}for(o++;o<t.length;o++)if("<"===t[o]){if("!"===t[o+1]){o++,o=K(t,o);continue}if("?"!==t[o+1])break;if(o=X(t,++o),o.err)return o}else if("&"===t[o]){const e=it(t,o);if(-1==e)return rt("InvalidChar","char '&' is not expected.",st(t,o));o=e}else if(!0===r&&!G(t[o]))return rt("InvalidXml","Extra text at the end",st(t,o));"<"===t[o]&&o--}}}return i?1==n.length?rt("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",st(t,n[0].tagStartPos)):!(n.length>0)||rt("InvalidXml","Invalid '"+JSON.stringify(n.map((t=>t.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):rt("InvalidXml","Start tag expected.",1)};const J='"',Q="'";function tt(t,e){let n="",i="",r=!1;for(;e<t.length;e++){if(t[e]===J||t[e]===Q)""===i?i=t[e]:i!==t[e]||(i="");else if(">"===t[e]&&""===i){r=!0;break}n+=t[e]}return""===i&&{value:n,index:e,tagClosed:r}}const et=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function nt(t,e){const n=W.getAllMatches(t,et),i={};for(let t=0;t<n.length;t++){if(0===n[t][1].length)return rt("InvalidAttr","Attribute '"+n[t][2]+"' has no space in starting.",lt(n[t]));if(void 0!==n[t][3]&&void 0===n[t][4])return rt("InvalidAttr","Attribute '"+n[t][2]+"' is without value.",lt(n[t]));if(void 0===n[t][3]&&!e.allowBooleanAttributes)return rt("InvalidAttr","boolean attribute '"+n[t][2]+"' is not allowed.",lt(n[t]));const r=n[t][2];if(!ot(r))return rt("InvalidAttr","Attribute '"+r+"' is an invalid name.",lt(n[t]));if(i.hasOwnProperty(r))return rt("InvalidAttr","Attribute '"+r+"' is repeated.",lt(n[t]));i[r]=1}return!0}function it(t,e){if(";"===t[++e])return-1;if("#"===t[e])return function(t,e){let n=/\d/;for("x"===t[e]&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(";"===t[e])return e;if(!t[e].match(n))break}return-1}(t,++e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(";"===t[e])break;return-1}return e}function rt(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function ot(t){return W.isName(t)}function at(t){return W.isName(t)}function st(t,e){const n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function lt(t){return t.startIndex+t[1].length}var dt={};const ct={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t}};dt.buildOptions=function(t){return Object.assign({},ct,t)},dt.defaultOptions=ct;const ut=Y;function pt(t,e){let n="";for(;e<t.length&&"'"!==t[e]&&'"'!==t[e];e++)n+=t[e];if(n=n.trim(),-1!==n.indexOf(" "))throw new Error("External entites are not supported");const i=t[e++];let r="";for(;e<t.length&&t[e]!==i;e++)r+=t[e];return[n,r,e]}function ft(t,e){return"!"===t[e+1]&&"-"===t[e+2]&&"-"===t[e+3]}function ht(t,e){return"!"===t[e+1]&&"E"===t[e+2]&&"N"===t[e+3]&&"T"===t[e+4]&&"I"===t[e+5]&&"T"===t[e+6]&&"Y"===t[e+7]}function At(t,e){return"!"===t[e+1]&&"E"===t[e+2]&&"L"===t[e+3]&&"E"===t[e+4]&&"M"===t[e+5]&&"E"===t[e+6]&&"N"===t[e+7]&&"T"===t[e+8]}function gt(t,e){return"!"===t[e+1]&&"A"===t[e+2]&&"T"===t[e+3]&&"T"===t[e+4]&&"L"===t[e+5]&&"I"===t[e+6]&&"S"===t[e+7]&&"T"===t[e+8]}function mt(t,e){return"!"===t[e+1]&&"N"===t[e+2]&&"O"===t[e+3]&&"T"===t[e+4]&&"A"===t[e+5]&&"T"===t[e+6]&&"I"===t[e+7]&&"O"===t[e+8]&&"N"===t[e+9]}function vt(t){if(ut.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}const wt=/^[-+]?0x[a-fA-F0-9]+$/,bt=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const yt={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};const Ct=Y,xt=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,e){"__proto__"===t&&(t="#__proto__"),this.child.push({[t]:e})}addChild(t){"__proto__"===t.tagname&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}},Et=function(t,e){const n={};if("O"!==t[e+3]||"C"!==t[e+4]||"T"!==t[e+5]||"Y"!==t[e+6]||"P"!==t[e+7]||"E"!==t[e+8])throw new Error("Invalid Tag instead of DOCTYPE");{e+=9;let i=1,r=!1,o=!1,a="";for(;e<t.length;e++)if("<"!==t[e]||o)if(">"===t[e]){if(o?"-"===t[e-1]&&"-"===t[e-2]&&(o=!1,i--):i--,0===i)break}else"["===t[e]?r=!0:a+=t[e];else{if(r&&ht(t,e))e+=7,[entityName,val,e]=pt(t,e+1),-1===val.indexOf("&")&&(n[vt(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(r&&At(t,e))e+=8;else if(r&&gt(t,e))e+=8;else if(r&&mt(t,e))e+=9;else{if(!ft)throw new Error("Invalid DOCTYPE");o=!0}i++,a=""}if(0!==i)throw new Error("Unclosed DOCTYPE")}return{entities:n,i:e}},_t=function(t,e={}){if(e=Object.assign({},yt,e),!t||"string"!=typeof t)return t;let n=t.trim();if(void 0!==e.skipLike&&e.skipLike.test(n))return t;if(e.hex&&wt.test(n))return Number.parseInt(n,16);{const i=bt.exec(n);if(i){const r=i[1],o=i[2];let a=function(t){return t&&-1!==t.indexOf(".")&&("."===(t=t.replace(/0+$/,""))?t="0":"."===t[0]?t="0"+t:"."===t[t.length-1]&&(t=t.substr(0,t.length-1))),t}(i[3]);const s=i[4]||i[6];if(!e.leadingZeros&&o.length>0&&r&&"."!==n[2])return t;if(!e.leadingZeros&&o.length>0&&!r&&"."!==n[1])return t;{const i=Number(n),l=""+i;return-1!==l.search(/[eE]/)||s?e.eNotation?i:t:-1!==n.indexOf(".")?"0"===l&&""===a||l===a||r&&l==="-"+a?i:t:o?a===l||r+a===l?i:t:n===l||n===r+l?i:t}}return t}};function kt(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const i=e[n];this.lastEntities[i]={regex:new RegExp("&"+i+";","g"),val:t[i]}}}function Bt(t,e,n,i,r,o,a){if(void 0!==t&&(this.options.trimValues&&!i&&(t=t.trim()),t.length>0)){a||(t=this.replaceEntitiesValue(t));const i=this.options.tagValueProcessor(e,t,n,r,o);return null==i?t:typeof i!=typeof t||i!==t?i:this.options.trimValues||t.trim()===t?Vt(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function Nt(t){if(this.options.removeNSPrefix){const e=t.split(":"),n="/"===t.charAt(0)?"/":"";if("xmlns"===e[0])return"";2===e.length&&(t=n+e[1])}return t}"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Ct.nameRegexp);const It=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function Tt(t,e,n){if(!this.options.ignoreAttributes&&"string"==typeof t){const n=Ct.getAllMatches(t,It),i=n.length,r={};for(let t=0;t<i;t++){const i=this.resolveNameSpace(n[t][1]);let o=n[t][4],a=this.options.attributeNamePrefix+i;if(i.length)if(this.options.transformAttributeName&&(a=this.options.transformAttributeName(a)),"__proto__"===a&&(a="#__proto__"),void 0!==o){this.options.trimValues&&(o=o.trim()),o=this.replaceEntitiesValue(o);const t=this.options.attributeValueProcessor(i,o,e);r[a]=null==t?o:typeof t!=typeof o||t!==o?t:Vt(o,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(r[a]=!0)}if(!Object.keys(r).length)return;if(this.options.attributesGroupName){const t={};return t[this.options.attributesGroupName]=r,t}return r}}const Pt=function(t){t=t.replace(/\r\n?/g,"\n");const e=new xt("!xml");let n=e,i="",r="";for(let o=0;o<t.length;o++)if("<"===t[o])if("/"===t[o+1]){const e=jt(t,">",o,"Closing Tag is not closed.");let a=t.substring(o+2,e).trim();if(this.options.removeNSPrefix){const t=a.indexOf(":");-1!==t&&(a=a.substr(t+1))}this.options.transformTagName&&(a=this.options.transformTagName(a)),n&&(i=this.saveTextToParentTag(i,n,r));const s=r.substring(r.lastIndexOf(".")+1);if(a&&-1!==this.options.unpairedTags.indexOf(a))throw new Error(`Unpaired tag can not be used as closing tag: </${a}>`);let l=0;s&&-1!==this.options.unpairedTags.indexOf(s)?(l=r.lastIndexOf(".",r.lastIndexOf(".")-1),this.tagsNodeStack.pop()):l=r.lastIndexOf("."),r=r.substring(0,l),n=this.tagsNodeStack.pop(),i="",o=e}else if("?"===t[o+1]){let e=Lt(t,o,!1,"?>");if(!e)throw new Error("Pi Tag is not closed.");if(i=this.saveTextToParentTag(i,n,r),!(this.options.ignoreDeclaration&&"?xml"===e.tagName||this.options.ignorePiTags)){const t=new xt(e.tagName);t.add(this.options.textNodeName,""),e.tagName!==e.tagExp&&e.attrExpPresent&&(t[":@"]=this.buildAttributesMap(e.tagExp,r,e.tagName)),this.addChild(n,t,r)}o=e.closeIndex+1}else if("!--"===t.substr(o+1,3)){const e=jt(t,"--\x3e",o+4,"Comment is not closed.");if(this.options.commentPropName){const a=t.substring(o+4,e-2);i=this.saveTextToParentTag(i,n,r),n.add(this.options.commentPropName,[{[this.options.textNodeName]:a}])}o=e}else if("!D"===t.substr(o+1,2)){const e=Et(t,o);this.docTypeEntities=e.entities,o=e.i}else if("!["===t.substr(o+1,2)){const e=jt(t,"]]>",o,"CDATA is not closed.")-2,a=t.substring(o+9,e);if(i=this.saveTextToParentTag(i,n,r),this.options.cdataPropName)n.add(this.options.cdataPropName,[{[this.options.textNodeName]:a}]);else{let t=this.parseTextData(a,n.tagname,r,!0,!1,!0);null==t&&(t=""),n.add(this.options.textNodeName,t)}o=e+2}else{let a=Lt(t,o,this.options.removeNSPrefix),s=a.tagName;const l=a.rawTagName;let d=a.tagExp,c=a.attrExpPresent,u=a.closeIndex;this.options.transformTagName&&(s=this.options.transformTagName(s)),n&&i&&"!xml"!==n.tagname&&(i=this.saveTextToParentTag(i,n,r,!1));const p=n;if(p&&-1!==this.options.unpairedTags.indexOf(p.tagname)&&(n=this.tagsNodeStack.pop(),r=r.substring(0,r.lastIndexOf("."))),s!==e.tagname&&(r+=r?"."+s:s),this.isItStopNode(this.options.stopNodes,r,s)){let e="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)o=a.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(s))o=a.closeIndex;else{const n=this.readStopNodeData(t,l,u+1);if(!n)throw new Error(`Unexpected end of ${l}`);o=n.i,e=n.tagContent}const i=new xt(s);s!==d&&c&&(i[":@"]=this.buildAttributesMap(d,r,s)),e&&(e=this.parseTextData(e,s,r,!0,c,!0,!0)),r=r.substr(0,r.lastIndexOf(".")),i.add(this.options.textNodeName,e),this.addChild(n,i,r)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){"/"===s[s.length-1]?(s=s.substr(0,s.length-1),r=r.substr(0,r.length-1),d=s):d=d.substr(0,d.length-1),this.options.transformTagName&&(s=this.options.transformTagName(s));const t=new xt(s);s!==d&&c&&(t[":@"]=this.buildAttributesMap(d,r,s)),this.addChild(n,t,r),r=r.substr(0,r.lastIndexOf("."))}else{const t=new xt(s);this.tagsNodeStack.push(n),s!==d&&c&&(t[":@"]=this.buildAttributesMap(d,r,s)),this.addChild(n,t,r),n=t}i="",o=u}}else i+=t[o];return e.child};function Ot(t,e,n){const i=this.options.updateTag(e.tagname,n,e[":@"]);!1===i||("string"==typeof i&&(e.tagname=i),t.addChild(e))}const Dt=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){const n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){const n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function St(t,e,n,i){return t&&(void 0===i&&(i=0===Object.keys(e.child).length),void 0!==(t=this.parseTextData(t,e.tagname,n,!1,!!e[":@"]&&0!==Object.keys(e[":@"]).length,i))&&""!==t&&e.add(this.options.textNodeName,t),t=""),t}function Mt(t,e,n){const i="*."+n;for(const n in t){const r=t[n];if(i===r||e===r)return!0}return!1}function jt(t,e,n,i){const r=t.indexOf(e,n);if(-1===r)throw new Error(i);return r+e.length-1}function Lt(t,e,n,i=">"){const r=function(t,e,n=">"){let i,r="";for(let o=e;o<t.length;o++){let e=t[o];if(i)e===i&&(i="");else if('"'===e||"'"===e)i=e;else if(e===n[0]){if(!n[1])return{data:r,index:o};if(t[o+1]===n[1])return{data:r,index:o}}else"\t"===e&&(e=" ");r+=e}}(t,e+1,i);if(!r)return;let o=r.data;const a=r.index,s=o.search(/\s/);let l=o,d=!0;-1!==s&&(l=o.substr(0,s).replace(/\s\s*$/,""),o=o.substr(s+1));const c=l;if(n){const t=l.indexOf(":");-1!==t&&(l=l.substr(t+1),d=l!==r.data.substr(t+1))}return{tagName:l,tagExp:o,closeIndex:a,attrExpPresent:d,rawTagName:c}}function Rt(t,e,n){const i=n;let r=1;for(;n<t.length;n++)if("<"===t[n])if("/"===t[n+1]){const o=jt(t,">",n,`${e} is not closed`);if(t.substring(n+2,o).trim()===e&&(r--,0===r))return{tagContent:t.substring(i,n),i:o};n=o}else if("?"===t[n+1])n=jt(t,"?>",n+1,"StopNode is not closed.");else if("!--"===t.substr(n+1,3))n=jt(t,"--\x3e",n+3,"StopNode is not closed.");else if("!["===t.substr(n+1,2))n=jt(t,"]]>",n,"StopNode is not closed.")-2;else{const i=Lt(t,n,">");i&&((i&&i.tagName)===e&&"/"!==i.tagExp[i.tagExp.length-1]&&r++,n=i.closeIndex)}}function Vt(t,e,n){if(e&&"string"==typeof t){const e=t.trim();return"true"===e||"false"!==e&&_t(t,n)}return Ct.isExist(t)?t:""}var $t={};function Ft(t,e,n){let i;const r={};for(let o=0;o<t.length;o++){const a=t[o],s=zt(a);let l="";if(l=void 0===n?s:n+"."+s,s===e.textNodeName)void 0===i?i=a[s]:i+=""+a[s];else{if(void 0===s)continue;if(a[s]){let t=Ft(a[s],e,l);const n=Ut(t,e);a[":@"]?Ht(t,a[":@"],l,e):1!==Object.keys(t).length||void 0===t[e.textNodeName]||e.alwaysCreateTextNode?0===Object.keys(t).length&&(e.alwaysCreateTextNode?t[e.textNodeName]="":t=""):t=t[e.textNodeName],void 0!==r[s]&&r.hasOwnProperty(s)?(Array.isArray(r[s])||(r[s]=[r[s]]),r[s].push(t)):e.isArray(s,l,n)?r[s]=[t]:r[s]=t}}}return"string"==typeof i?i.length>0&&(r[e.textNodeName]=i):void 0!==i&&(r[e.textNodeName]=i),r}function zt(t){const e=Object.keys(t);for(let t=0;t<e.length;t++){const n=e[t];if(":@"!==n)return n}}function Ht(t,e,n,i){if(e){const r=Object.keys(e),o=r.length;for(let a=0;a<o;a++){const o=r[a];i.isArray(o,n+"."+o,!0,!0)?t[o]=[e[o]]:t[o]=e[o]}}}function Ut(t,e){const{textNodeName:n}=e,i=Object.keys(t).length;return!(0!==i&&(1!==i||!t[n]&&"boolean"!=typeof t[n]&&0!==t[n]))}$t.prettify=function(t,e){return Ft(t,e)};const{buildOptions:Zt}=dt,Yt=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=kt,this.parseXml=Pt,this.parseTextData=Bt,this.resolveNameSpace=Nt,this.buildAttributesMap=Tt,this.isItStopNode=Mt,this.replaceEntitiesValue=Dt,this.readStopNodeData=Rt,this.saveTextToParentTag=St,this.addChild=Ot}},{prettify:Wt}=$t,qt=Z;function Gt(t,e,n,i){let r="",o=!1;for(let a=0;a<t.length;a++){const s=t[a],l=Xt(s);if(void 0===l)continue;let d="";if(d=0===n.length?l:`${n}.${l}`,l===e.textNodeName){let t=s[l];Jt(d,e)||(t=e.tagValueProcessor(l,t),t=Qt(t,e)),o&&(r+=i),r+=t,o=!1;continue}if(l===e.cdataPropName){o&&(r+=i),r+=`<![CDATA[${s[l][0][e.textNodeName]}]]>`,o=!1;continue}if(l===e.commentPropName){r+=i+`\x3c!--${s[l][0][e.textNodeName]}--\x3e`,o=!0;continue}if("?"===l[0]){const t=Kt(s[":@"],e),n="?xml"===l?"":i;let a=s[l][0][e.textNodeName];a=0!==a.length?" "+a:"",r+=n+`<${l}${a}${t}?>`,o=!0;continue}let c=i;""!==c&&(c+=e.indentBy);const u=i+`<${l}${Kt(s[":@"],e)}`,p=Gt(s[l],e,d,c);-1!==e.unpairedTags.indexOf(l)?e.suppressUnpairedNode?r+=u+">":r+=u+"/>":p&&0!==p.length||!e.suppressEmptyNode?p&&p.endsWith(">")?r+=u+`>${p}${i}</${l}>`:(r+=u+">",p&&""!==i&&(p.includes("/>")||p.includes("</"))?r+=i+e.indentBy+p+i:r+=p,r+=`</${l}>`):r+=u+"/>",o=!0}return r}function Xt(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const i=e[n];if(t.hasOwnProperty(i)&&":@"!==i)return i}}function Kt(t,e){let n="";if(t&&!e.ignoreAttributes)for(let i in t){if(!t.hasOwnProperty(i))continue;let r=e.attributeValueProcessor(i,t[i]);r=Qt(r,e),!0===r&&e.suppressBooleanAttributes?n+=` ${i.substr(e.attributeNamePrefix.length)}`:n+=` ${i.substr(e.attributeNamePrefix.length)}="${r}"`}return n}function Jt(t,e){let n=(t=t.substr(0,t.length-e.textNodeName.length-1)).substr(t.lastIndexOf(".")+1);for(let i in e.stopNodes)if(e.stopNodes[i]===t||e.stopNodes[i]==="*."+n)return!0;return!1}function Qt(t,e){if(t&&t.length>0&&e.processEntities)for(let n=0;n<e.entities.length;n++){const i=e.entities[n];t=t.replace(i.regex,i.val)}return t}const te=function(t,e){let n="";return e.format&&e.indentBy.length>0&&(n="\n"),Gt(t,e,"",n)},ee={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function ne(t){this.options=Object.assign({},ee,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=oe),this.processTextOrObjNode=ie,this.options.format?(this.indentate=re,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function ie(t,e,n){const i=this.j2x(t,n+1);return void 0!==t[this.options.textNodeName]&&1===Object.keys(t).length?this.buildTextValNode(t[this.options.textNodeName],e,i.attrStr,n):this.buildObjectNode(i.val,e,i.attrStr,n)}function re(t){return this.options.indentBy.repeat(t)}function oe(t){return!(!t.startsWith(this.options.attributeNamePrefix)||t===this.options.textNodeName)&&t.substr(this.attrPrefixLen)}ne.prototype.build=function(t){return this.options.preserveOrder?te(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)},ne.prototype.j2x=function(t,e){let n="",i="";for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r))if(typeof t[r]>"u")this.isAttribute(r)&&(i+="");else if(null===t[r])this.isAttribute(r)?i+="":"?"===r[0]?i+=this.indentate(e)+"<"+r+"?"+this.tagEndChar:i+=this.indentate(e)+"<"+r+"/"+this.tagEndChar;else if(t[r]instanceof Date)i+=this.buildTextValNode(t[r],r,"",e);else if("object"!=typeof t[r]){const o=this.isAttribute(r);if(o)n+=this.buildAttrPairStr(o,""+t[r]);else if(r===this.options.textNodeName){let e=this.options.tagValueProcessor(r,""+t[r]);i+=this.replaceEntitiesValue(e)}else i+=this.buildTextValNode(t[r],r,"",e)}else if(Array.isArray(t[r])){const n=t[r].length;let o="";for(let a=0;a<n;a++){const n=t[r][a];typeof n>"u"||(null===n?"?"===r[0]?i+=this.indentate(e)+"<"+r+"?"+this.tagEndChar:i+=this.indentate(e)+"<"+r+"/"+this.tagEndChar:"object"==typeof n?this.options.oneListGroup?o+=this.j2x(n,e+1).val:o+=this.processTextOrObjNode(n,r,e):o+=this.buildTextValNode(n,r,"",e))}this.options.oneListGroup&&(o=this.buildObjectNode(o,r,"",e)),i+=o}else if(this.options.attributesGroupName&&r===this.options.attributesGroupName){const e=Object.keys(t[r]),i=e.length;for(let o=0;o<i;o++)n+=this.buildAttrPairStr(e[o],""+t[r][e[o]])}else i+=this.processTextOrObjNode(t[r],r,e);return{attrStr:n,val:i}},ne.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&"true"===e?" "+t:" "+t+'="'+e+'"'},ne.prototype.buildObjectNode=function(t,e,n,i){if(""===t)return"?"===e[0]?this.indentate(i)+"<"+e+n+"?"+this.tagEndChar:this.indentate(i)+"<"+e+n+this.closeTag(e)+this.tagEndChar;{let r="</"+e+this.tagEndChar,o="";return"?"===e[0]&&(o="?",r=""),!n&&""!==n||-1!==t.indexOf("<")?!1!==this.options.commentPropName&&e===this.options.commentPropName&&0===o.length?this.indentate(i)+`\x3c!--${t}--\x3e`+this.newLine:this.indentate(i)+"<"+e+n+o+this.tagEndChar+t+this.indentate(i)+r:this.indentate(i)+"<"+e+n+o+">"+t+r}},ne.prototype.closeTag=function(t){let e="";return-1!==this.options.unpairedTags.indexOf(t)?this.options.suppressUnpairedNode||(e="/"):e=this.options.suppressEmptyNode?"/":`></${t}`,e},ne.prototype.buildTextValNode=function(t,e,n,i){if(!1!==this.options.cdataPropName&&e===this.options.cdataPropName)return this.indentate(i)+`<![CDATA[${t}]]>`+this.newLine;if(!1!==this.options.commentPropName&&e===this.options.commentPropName)return this.indentate(i)+`\x3c!--${t}--\x3e`+this.newLine;if("?"===e[0])return this.indentate(i)+"<"+e+n+"?"+this.tagEndChar;{let r=this.options.tagValueProcessor(e,t);return r=this.replaceEntitiesValue(r),""===r?this.indentate(i)+"<"+e+n+this.closeTag(e)+this.tagEndChar:this.indentate(i)+"<"+e+n+">"+r+"</"+e+this.tagEndChar}},ne.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){const n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t};var ae={XMLParser:class{constructor(t){this.externalEntities={},this.options=Zt(t)}parse(t,e){if("string"!=typeof t){if(!t.toString)throw new Error("XML data is accepted in String or Bytes[] form.");t=t.toString()}if(e){!0===e&&(e={});const n=qt.validate(t,e);if(!0!==n)throw Error(`${n.err.msg}:${n.err.line}:${n.err.col}`)}const n=new Yt(this.options);n.addExternalEntities(this.externalEntities);const i=n.parseXml(t);return this.options.preserveOrder||void 0===i?i:Wt(i,this.options)}addEntity(t,e){if(-1!==e.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==t.indexOf("&")||-1!==t.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===e)throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=e}},XMLValidator:Z,XMLBuilder:ne};class se{_view;constructor(t){le(t),this._view=t}get id(){return this._view.id}get name(){return this._view.name}get caption(){return this._view.caption}get emptyTitle(){return this._view.emptyTitle}get emptyCaption(){return this._view.emptyCaption}get getContents(){return this._view.getContents}get icon(){return this._view.icon}set icon(t){this._view.icon=t}get order(){return this._view.order}set order(t){this._view.order=t}get params(){return this._view.params}set params(t){this._view.params=t}get columns(){return this._view.columns}get emptyView(){return this._view.emptyView}get parent(){return this._view.parent}get sticky(){return this._view.sticky}get expanded(){return this._view.expanded}set expanded(t){this._view.expanded=t}get defaultSortKey(){return this._view.defaultSortKey}}const le=function(t){if(!t.id||"string"!=typeof t.id)throw new Error("View id is required and must be a string");if(!t.name||"string"!=typeof t.name)throw new Error("View name is required and must be a string");if(t.columns&&t.columns.length>0&&(!t.caption||"string"!=typeof t.caption))throw new Error("View caption is required for top-level views and must be a string");if(!t.getContents||"function"!=typeof t.getContents)throw new Error("View getContents is required and must be a function");if(!t.icon||"string"!=typeof t.icon||!function(t){if("string"!=typeof t)throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);if(0===(t=t.trim()).length||!0!==ae.XMLValidator.validate(t))return!1;let e;const n=new ae.XMLParser;try{e=n.parse(t)}catch{return!1}return!(!e||!("svg"in e))}(t.icon))throw new Error("View icon is required and must be a valid svg string");if(!("order"in t)||"number"!=typeof t.order)throw new Error("View order is required and must be a number");if(t.columns&&t.columns.forEach((t=>{if(!(t instanceof H))throw new Error("View columns must be an array of Column. Invalid column found")})),t.emptyView&&"function"!=typeof t.emptyView)throw new Error("View emptyView must be a function");if(t.parent&&"string"!=typeof t.parent)throw new Error("View parent must be a string");if("sticky"in t&&"boolean"!=typeof t.sticky)throw new Error("View sticky must be a boolean");if("expanded"in t&&"boolean"!=typeof t.expanded)throw new Error("View expanded must be a boolean");if(t.defaultSortKey&&"string"!=typeof t.defaultSortKey)throw new Error("View defaultSortKey must be a string");return!0},de=function(t){return f().registerEntry(t)},ce=function(t){return f().unregisterEntry(t)}}},o={};function a(t){var e=o[t];if(void 0!==e)return e.exports;var n=o[t]={id:t,loaded:!1,exports:{}};return r[t].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=r,e=[],a.O=(t,n,i,r)=>{if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],i=e[c][1],r=e[c][2];for(var s=!0,l=0;l<n.length;l++)(!1&r||o>=r)&&Object.keys(a.O).every((t=>a.O[t](n[l])))?n.splice(l--,1):(s=!1,r<o&&(o=r));if(s){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,i,r]},a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.f={},a.e=t=>Promise.all(Object.keys(a.f).reduce(((e,n)=>(a.f[n](t,e),e)),[])),a.u=t=>t+"-"+t+".js?v="+{2048:"78a82614529a3cefcde7",4180:"fe82f3a2dac70d6b82bc"}[t],a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n={},i="nextcloud:",a.l=(t,e,r,o)=>{if(n[t])n[t].push(e);else{var s,l;if(void 0!==r)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==t||u.getAttribute("data-webpack")==i+r){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",i+r),s.src=t),n[t]=[e];var p=(e,i)=>{s.onerror=s.onload=null,clearTimeout(f);var r=n[t];if(delete n[t],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((t=>t(i))),e)return e(i)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}},a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),a.j=9837,(()=>{var t;a.g.importScripts&&(t=a.g.location+"");var e=a.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&!t;)t=n[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=t})(),(()=>{a.b=document.baseURI||self.location.href;var t={9837:0};a.f.j=(e,n)=>{var i=a.o(t,e)?t[e]:void 0;if(0!==i)if(i)n.push(i[2]);else{var r=new Promise(((n,r)=>i=t[e]=[n,r]));n.push(i[2]=r);var o=a.p+a.u(e),s=new Error;a.l(o,(n=>{if(a.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",s.name="ChunkLoadError",s.type=r,s.request=o,i[1](s)}}),"chunk-"+e,e)}},a.O.j=e=>0===t[e];var e=(e,n)=>{var i,r,o=n[0],s=n[1],l=n[2],d=0;if(o.some((e=>0!==t[e]))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(l)var c=l(a)}for(e&&e(n);d<o.length;d++)r=o[d],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(c)},n=self.webpackChunknextcloud=self.webpackChunknextcloud||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),a.nc=void 0;var s=a.O(void 0,[7874],(()=>a(8753)));s=a.O(s)})();
//# sourceMappingURL=files-init.js.map?v=184e66c8685b008d13a4